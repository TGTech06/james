import{s as Le,o as we,d as i,r as je}from"../chunks/scheduler.744affc9.js";import{S as Re,i as Ne,d as le,v as Te,u as qe,w as Fe,x as ze,f as He,t as Oe,y as Ge,j as c,s as w,k as u,l as p,A as V,g as x,c as E,m as l,a as Be,z as a,B as Ee,C as te,o as Ke,p as Je,q as Ye}from"../chunks/index.42e20cb7.js";import{f as ye,u as Ae}from"../chunks/files.c6a7cb76.js";import{c as ke,P as Ie,a as Ue,b as ae}from"../chunks/public.8bae8052.js";import{A as Se,H as De,S as Pe}from"../chunks/AuthCheck.c630ed59.js";const f="src/routes/upload/+page.svelte";function fe(d){let e,s;const _={c:function(){e=c("div"),s=Ke(d[1]),this.h()},l:function(t){e=u(t,"DIV",{class:!0});var n=p(e);s=Je(n,d[1]),n.forEach(x),this.h()},h:function(){l(e,"class","text-red-500 mb-4"),i(e,f,95,10,2645)},m:function(t,n){Be(t,e,n),a(e,s)},p:function(t,n){n&2&&Ye(s,t[1])},d:function(t){t&&x(e)}};return le("SvelteRegisterBlock",{block:_,id:fe.name,type:"if",source:"(84:8) {#if error}",ctx:d}),_}function Ve(d){let e,s,_,o,t,n,y="James ðŸ§ ðŸ§ ",L,h,v,O="Upload Data",F,g,J="Chat with James",G,C,Y="Profile",r,b,j,he="Insert Data Page",se,M,I,R,ve="Upload Files",ne,U,N,re,D,me="Upload Files",oe,P,T,_e="Add the URL to the database",ie,B,A,ce,S,xe="Add URL",ue,be,m=d[1]&&fe(d);const ge={c:function(){e=c("div"),s=c("div"),_=c("nav"),o=c("div"),t=c("div"),n=c("a"),n.textContent=y,L=w(),h=c("div"),v=c("a"),v.textContent=O,F=w(),g=c("a"),g.textContent=J,G=w(),C=c("a"),C.textContent=Y,r=w(),b=c("div"),j=c("h1"),j.textContent=he,se=w(),m&&m.c(),M=w(),I=c("div"),R=c("label"),R.textContent=ve,ne=w(),U=c("div"),N=c("input"),re=w(),D=c("button"),D.textContent=me,oe=w(),P=c("div"),T=c("label"),T.textContent=_e,ie=w(),B=c("div"),A=c("textarea"),ce=w(),S=c("button"),S.textContent=xe,this.h()},l:function(k){e=u(k,"DIV",{class:!0});var z=p(e);s=u(z,"DIV",{class:!0});var X=p(s);_=u(X,"NAV",{class:!0});var pe=p(_);o=u(pe,"DIV",{class:!0});var Q=p(o);t=u(Q,"DIV",{class:!0});var Ce=p(t);n=u(Ce,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(n)!=="svelte-1da30rr"&&(n.textContent=y),Ce.forEach(x),L=E(Q),h=u(Q,"DIV",{class:!0});var H=p(h);v=u(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(v)!=="svelte-8kva0r"&&(v.textContent=O),F=E(H),g=u(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(g)!=="svelte-1i5p5cg"&&(g.textContent=J),G=E(H),C=u(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(C)!=="svelte-3pkr3"&&(C.textContent=Y),H.forEach(x),Q.forEach(x),pe.forEach(x),r=E(X),b=u(X,"DIV",{class:!0});var q=p(b);j=u(q,"H1",{class:!0,"data-svelte-h":!0}),V(j)!=="svelte-1jf55pk"&&(j.textContent=he),se=E(q),m&&m.l(q),M=E(q),I=u(q,"DIV",{class:!0});var W=p(I);R=u(W,"LABEL",{class:!0,"data-svelte-h":!0}),V(R)!=="svelte-qb0qet"&&(R.textContent=ve),ne=E(W),U=u(W,"DIV",{class:!0});var Z=p(U);N=u(Z,"INPUT",{type:!0,class:!0}),re=E(Z),D=u(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),V(D)!=="svelte-lgl95g"&&(D.textContent=me),Z.forEach(x),W.forEach(x),oe=E(q),P=u(q,"DIV",{class:!0});var $=p(P);T=u($,"LABEL",{class:!0,"data-svelte-h":!0}),V(T)!=="svelte-qczuz7"&&(T.textContent=_e),ie=E($),B=u($,"DIV",{class:!0});var ee=p(B);A=u(ee,"TEXTAREA",{class:!0,rows:!0}),p(A).forEach(x),ce=E(ee),S=u(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),V(S)!=="svelte-i43hfh"&&(S.textContent=xe),ee.forEach(x),$.forEach(x),q.forEach(x),X.forEach(x),z.forEach(x),this.h()},h:function(){l(n,"href","/"),l(n,"class","text-3xl font-bold hover:text-blue-400 cursor-pointer"),i(n,f,70,12,1733),l(t,"class","flex items-center justify-center flex-1"),i(t,f,69,10,1667),l(v,"href","/upload"),l(v,"class","text-lg text-white hover:text-blue-400"),i(v,f,78,12,1994),l(g,"href","/ask"),l(g,"class","text-lg text-white hover:text-blue-400"),i(g,f,81,12,2115),l(C,"href","/profile"),l(C,"class","text-lg text-white hover:text-blue-400"),i(C,f,84,12,2237),l(h,"class","flex items-center justify-center flex-1 space-x-4"),i(h,f,77,10,1918),l(o,"class","navbar p-4 bg-gray-900 text-white rounded-t-lg rounded-b-lg border border-white"),i(o,f,66,8,1544),l(_,"class","w-full bg-gray-900 rounded-lg mb-6 shadow-md"),i(_,f,65,6,1477),l(j,"class","text-4xl font-bold mb-8"),i(j,f,92,8,2526),l(R,"class","label mb-2 text-lg font-bold"),i(R,f,100,10,2780),l(N,"type","file"),N.multiple=!0,l(N,"class","input input-accent mr-4"),i(N,f,102,12,2899),l(D,"class","btn btn-primary text-lg font-bold"),i(D,f,108,12,3061),l(U,"class","flex items-center"),i(U,f,101,10,2855),l(I,"class","w-full mb-8"),i(I,f,99,8,2744),l(T,"class","label mb-2 text-lg font-bold"),i(T,f,119,10,3340),l(A,"class","textarea textarea-accent resize-none flex-grow text-lg font-bold"),l(A,"rows","1"),i(A,f,123,12,3498),l(S,"class","btn btn-primary text-lg font-bold ml-4"),i(S,f,128,12,3676),l(B,"class","flex items-center"),i(B,f,122,10,3454),l(P,"class","w-full"),i(P,f,118,8,3309),l(b,"class","p-8 flex flex-col items-center h-screen"),i(b,f,91,6,2464),l(s,"class","flex flex-col items-center"),i(s,f,64,4,1430),l(e,"class","flex flex-col min-h-screen min-w-full bg-gray-900 text-white p-4"),i(e,f,63,2,1347)},m:function(k,z){Be(k,e,z),a(e,s),a(s,_),a(_,o),a(o,t),a(t,n),a(o,L),a(o,h),a(h,v),a(h,F),a(h,g),a(h,G),a(h,C),a(s,r),a(s,b),a(b,j),a(b,se),m&&m.m(b,null),a(b,M),a(b,I),a(I,R),a(I,ne),a(I,U),a(U,N),a(U,re),a(U,D),a(b,oe),a(b,P),a(P,T),a(P,ie),a(P,B),a(B,A),Ee(A,d[0]),a(B,ce),a(B,S),ue||(be=[te(N,"change",d[2],!1,!1,!1,!1),te(D,"click",d[5],!1,!1,!1,!1),te(A,"input",d[6]),te(S,"click",d[7],!1,!1,!1,!1)],ue=!0)},p:function(k,z){k[1]?m?m.p(k,z):(m=fe(k),m.c(),m.m(b,M)):m&&(m.d(1),m=null),z&1&&Ee(A,k[0])},d:function(k){k&&x(e),m&&m.d(),ue=!1,je(be)}};return le("SvelteRegisterBlock",{block:ge,id:Ve.name,type:"slot",source:"(52:0) <AuthCheck>",ctx:d}),ge}function de(d){let e,s;e=new Se({props:{$$slots:{default:[Ve]},$$scope:{ctx:d}},$$inline:!0});const _={c:function(){qe(e.$$.fragment)},l:function(t){Fe(e.$$.fragment,t)},m:function(t,n){ze(e,t,n),s=!0},p:function(t,[n]){const y={};n&4099&&(y.$$scope={dirty:n,ctx:t}),e.$set(y)},i:function(t){s||(He(e.$$.fragment,t),s=!0)},o:function(t){Oe(e.$$.fragment,t),s=!1},d:function(t){Ge(e,t)}};return le("SvelteRegisterBlock",{block:_,id:de.name,type:"component",source:"",ctx:d}),_}function Me(d,e,s){let{$$slots:_={},$$scope:o}=e;Te("Page",_,[]);let t,n,y,L,h,v="";async function O(r){L=r.target.files[0]}we(()=>{t=ke(Ue,Ie),y=new De({apiKey:ae}),n=new Pe(y,{client:t,tableName:"documents"})});async function F(){try{await ye(t,ae,n,L),s(1,v="")}catch(r){s(1,v=r.message)}}async function g(){try{await Ae(t,ae,n,h),s(1,v="")}catch(r){s(1,v=r.message)}}const J=[];Object.keys(e).forEach(r=>{!~J.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Page> was created with unknown prop '${r}'`)});const G=()=>F();function C(){h=this.value,s(0,h)}const Y=()=>g();return d.$capture_state=()=>({file_uploader:ye,url_uploader:Ae,createClient:ke,SupabaseVectorStore:Pe,HuggingFaceInferenceEmbeddings:De,onMount:we,PUBLIC_SUPABASE_KEY:Ie,PUBLIC_SUPABASE_URL:Ue,PUBLIC_HUGGINGFACE_API_KEY:ae,AuthCheck:Se,supabase:t,vector:n,embeddings:y,files:L,url:h,error:v,upload:O,handleFileUpload:F,handleUrlUpload:g}),d.$inject_state=r=>{"supabase"in r&&(t=r.supabase),"vector"in r&&(n=r.vector),"embeddings"in r&&(y=r.embeddings),"files"in r&&(L=r.files),"url"in r&&s(0,h=r.url),"error"in r&&s(1,v=r.error)},e&&"$$inject"in e&&d.$inject_state(e.$$inject),[h,v,O,F,g,G,C,Y]}class et extends Re{constructor(e){super(e),Ne(this,e,Me,de,Le,{}),le("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:de.name})}}export{et as component};
