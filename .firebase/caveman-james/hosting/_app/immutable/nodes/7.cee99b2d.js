import{s as Ie,o as se,d,r as ye}from"../chunks/scheduler.2364b0ad.js";import{S as Ue,i as ke,d as X,v as Pe,u as ve,w as he,x as be,f as pe,t as ge,y as xe,j as m,s as L,k as _,l as U,c as D,A as q,g as C,m as c,a as Ce,z as s,F as oe,B as M,o as Be,p as Se,q as Le}from"../chunks/index.e0615928.js";import{f as ie,u as ce}from"../chunks/files.8ee13faf.js";import{A as Ee,O as re,S as fe,N as we}from"../chunks/NavBar.34dbe8c9.js";import{c as ue,P as de,a as me,b as Z,d as _e}from"../chunks/public.42564a77.js";const v="src/routes/upload/+page.svelte";function $(o){let t,a;const f={c:function(){t=m("div"),a=Be(o[1]),this.h()},l:function(e){t=_(e,"DIV",{class:!0});var n=U(t);a=Se(n,o[1]),n.forEach(C),this.h()},h:function(){c(t,"class","text-red-500 mb-4"),d(t,v,76,10,1670)},m:function(e,n){Ce(e,t,n),s(t,a)},p:function(e,n){n&2&&Le(a,e[1])},d:function(e){e&&C(t)}};return X("SvelteRegisterBlock",{block:f,id:$.name,type:"if",source:"(54:8) {#if error}",ctx:o}),f}function Ae(o){let t,a,f,i,e,n,k="Insert Data Page",P,b,u,p,O="Upload Files",N,g,E,T,x,l="Upload Files",j,A,B,te="Add the URL to the database",J,I,w,Q,y,ne="Add URL",F,W,ae;f=new we({$$inline:!0});let r=o[1]&&$(o);const le={c:function(){t=m("div"),a=m("div"),ve(f.$$.fragment),i=L(),e=m("div"),n=m("h1"),n.textContent=k,P=L(),r&&r.c(),b=L(),u=m("div"),p=m("label"),p.textContent=O,N=L(),g=m("div"),E=m("input"),T=L(),x=m("button"),x.textContent=l,j=L(),A=m("div"),B=m("label"),B.textContent=te,J=L(),I=m("div"),w=m("textarea"),Q=L(),y=m("button"),y.textContent=ne,this.h()},l:function(h){t=_(h,"DIV",{class:!0});var R=U(t);a=_(R,"DIV",{class:!0});var z=U(a);he(f.$$.fragment,z),i=D(z),e=_(z,"DIV",{class:!0});var S=U(e);n=_(S,"H1",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1uys3o0"&&(n.textContent=k),P=D(S),r&&r.l(S),b=D(S),u=_(S,"DIV",{class:!0});var K=U(u);p=_(K,"LABEL",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-qb0qet"&&(p.textContent=O),N=D(K),g=_(K,"DIV",{class:!0});var G=U(g);E=_(G,"INPUT",{type:!0,class:!0}),T=D(G),x=_(G,"BUTTON",{class:!0,"data-svelte-h":!0}),q(x)!=="svelte-lgl95g"&&(x.textContent=l),G.forEach(C),K.forEach(C),j=D(S),A=_(S,"DIV",{class:!0});var Y=U(A);B=_(Y,"LABEL",{class:!0,"data-svelte-h":!0}),q(B)!=="svelte-qczuz7"&&(B.textContent=te),J=D(Y),I=_(Y,"DIV",{class:!0});var H=U(I);w=_(H,"TEXTAREA",{class:!0,rows:!0}),U(w).forEach(C),Q=D(H),y=_(H,"BUTTON",{class:!0,"data-svelte-h":!0}),q(y)!=="svelte-q899tv"&&(y.textContent=ne),H.forEach(C),Y.forEach(C),S.forEach(C),z.forEach(C),R.forEach(C),this.h()},h:function(){c(n,"class","text-2xl md:text-4xl font-bold mb-4 md:mb-8"),d(n,v,71,8,1511),c(p,"class","label mb-2 text-lg font-bold"),d(p,v,81,10,1813),c(E,"type","file"),E.multiple=!0,c(E,"class","input input-accent mr-0 md:mr-4 mb-2 md:mb-0"),d(E,v,83,12,1953),c(x,"class","btn btn-primary text-lg font-bold"),d(x,v,89,12,2136),c(g,"class","flex flex-col md:flex-row items-center"),d(g,v,82,10,1888),c(u,"class","w-full mb-4 md:mb-8"),d(u,v,80,8,1769),c(B,"class","label mb-2 text-lg font-bold"),d(B,v,100,10,2415),c(w,"class","textarea textarea-accent resize-none flex-grow text-lg font-bold mb-2 md:mb-0 md:mr-4"),c(w,"rows","1"),d(w,v,104,12,2594),c(y,"class","btn btn-primary text-lg font-bold"),d(y,v,109,12,2793),c(I,"class","flex flex-col md:flex-row items-center"),d(I,v,103,10,2529),c(A,"class","w-full"),d(A,v,99,8,2384),c(e,"class","p-4 md:p-8 flex flex-col items-center h-screen"),d(e,v,70,6,1442),c(a,"class","flex flex-col items-center"),d(a,v,68,4,1378),c(t,"class","flex flex-col min-h-screen min-w-full bg-gray-900 text-white p-4"),d(t,v,67,2,1295)},m:function(h,R){Ce(h,t,R),s(t,a),be(f,a,null),s(a,i),s(a,e),s(e,n),s(e,P),r&&r.m(e,null),s(e,b),s(e,u),s(u,p),s(u,N),s(u,g),s(g,E),s(g,T),s(g,x),s(e,j),s(e,A),s(A,B),s(A,J),s(A,I),s(I,w),oe(w,o[0]),s(I,Q),s(I,y),F=!0,W||(ae=[M(E,"change",o[2],!1,!1,!1,!1),M(x,"click",o[5],!1,!1,!1,!1),M(w,"input",o[6]),M(y,"click",o[7],!1,!1,!1,!1)],W=!0)},p:function(h,R){h[1]?r?r.p(h,R):(r=$(h),r.c(),r.m(e,b)):r&&(r.d(1),r=null),R&1&&oe(w,h[0])},i:function(h){F||(pe(f.$$.fragment,h),F=!0)},o:function(h){ge(f.$$.fragment,h),F=!1},d:function(h){h&&C(t),xe(f),r&&r.d(),W=!1,ye(ae)}};return X("SvelteRegisterBlock",{block:le,id:Ae.name,type:"slot",source:"(45:0) <AuthCheck>",ctx:o}),le}function ee(o){let t,a;t=new Ee({props:{$$slots:{default:[Ae]},$$scope:{ctx:o}},$$inline:!0});const f={c:function(){ve(t.$$.fragment)},l:function(e){he(t.$$.fragment,e)},m:function(e,n){be(t,e,n),a=!0},p:function(e,[n]){const k={};n&4099&&(k.$$scope={dirty:n,ctx:e}),t.$set(k)},i:function(e){a||(pe(t.$$.fragment,e),a=!0)},o:function(e){ge(t.$$.fragment,e),a=!1},d:function(e){xe(t,e)}};return X("SvelteRegisterBlock",{block:f,id:ee.name,type:"component",source:"",ctx:o}),f}function De(o,t,a){let{$$slots:f={},$$scope:i}=t;Pe("Page",f,[]);let e,n,k,P,b,u="";async function p(l){P=l.target.files[0]}se(()=>{e=ue(me,de);const l=_e;let j=new re({openAIApiKey:l});n=new fe(j,{client:e,tableName:"documents"})});async function O(){await ie(e,Z,n,P),a(1,u="")}async function N(){await ce(e,Z,n,b),a(1,u="")}const g=[];Object.keys(t).forEach(l=>{!~g.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)});const E=()=>O();function T(){b=this.value,a(0,b)}const x=()=>N();return o.$capture_state=()=>({file_uploader:ie,url_uploader:ce,OpenAIEmbeddings:re,createClient:ue,SupabaseVectorStore:fe,onMount:se,PUBLIC_SUPABASE_KEY:de,PUBLIC_SUPABASE_URL:me,PUBLIC_HUGGINGFACE_API_KEY:Z,PUBLIC_OPENAI_API_KEY:_e,AuthCheck:Ee,NavBar:we,supabase:e,vector:n,embeddings:k,files:P,url:b,error:u,upload:p,handleFileUpload:O,handleUrlUpload:N}),o.$inject_state=l=>{"supabase"in l&&(e=l.supabase),"vector"in l&&(n=l.vector),"embeddings"in l&&(k=l.embeddings),"files"in l&&(P=l.files),"url"in l&&a(0,b=l.url),"error"in l&&a(1,u=l.error)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),[b,u,p,O,N,E,T,x]}class je extends Ue{constructor(t){super(t),ke(this,t,De,ee,Ie,{}),X("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:ee.name})}}export{je as component};
