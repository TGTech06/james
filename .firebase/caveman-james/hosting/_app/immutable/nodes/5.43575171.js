import{s as me,o as K,d as g}from"../chunks/scheduler.2364b0ad.js";import{S as _e,i as he,d as R,v as ve,E as Y,u as ne,w as se,x as ae,f as oe,t as le,y as ce,j as p,s as O,k as b,l as I,c as N,A as ge,g as _,m as $,a as ie,z as u,B as re,I as pe,o as j,p as V,q}from"../chunks/index.e0615928.js";import{g as be}from"../chunks/globals.7f7f1b26.js";import{c as F,P as J,a as M,b as Ee,d as Z}from"../chunks/public.42564a77.js";import{A as ue,O as Q,S as W,N as fe}from"../chunks/NavBar.34dbe8c9.js";import{H as ye}from"../chunks/hf.8332603d.js";import{g as X,d as ee}from"../chunks/brain.c0d8c4fe.js";const{console:Ie}=be,E="src/routes/profile/+page.svelte";function te(c,e,o){const l=c.slice();return l[7]=e[o],l}function G(c){let e,o,l,m,n=c[7].name+"",i,r,w=c[7].size+"",k,h,P,v,t,y,A,U;function S(){return c[4](c[7])}const f={c:function(){e=p("div"),o=p("div"),l=p("p"),m=p("strong"),i=j(n),r=j(" ("),k=j(w),h=j(" bytes)"),P=O(),v=p("button"),t=p("i"),y=O(),this.h()},l:function(d){e=b(d,"DIV",{class:!0});var s=I(e);o=b(s,"DIV",{});var D=I(o);l=b(D,"P",{class:!0});var a=I(l);m=b(a,"STRONG",{});var B=I(m);i=V(B,n),B.forEach(_),r=V(a," ("),k=V(a,w),h=V(a," bytes)"),a.forEach(_),D.forEach(_),P=N(s),v=b(s,"BUTTON",{class:!0});var x=I(v);t=b(x,"I",{class:!0}),I(t).forEach(_),x.forEach(_),y=N(s),s.forEach(_),this.h()},h:function(){g(m,E,91,18,2482),$(l,"class","text-lg"),g(l,E,90,16,2444),g(o,E,89,14,2422),$(t,"class","fas fa-trash white-icon"),g(t,E,98,16,2742),$(v,"class","btn btn-error"),g(v,E,94,14,2595),$(e,"class","bg-gray-800 p-4 rounded-lg flex items-center justify-between"),g(e,E,86,12,2306)},m:function(d,s){ie(d,e,s),u(e,o),u(o,l),u(l,m),u(m,i),u(l,r),u(l,k),u(l,h),u(e,P),u(e,v),u(v,t),u(e,y),A||(U=re(v,"click",S,!1,!1,!1,!1),A=!0)},p:function(d,s){c=d,s&1&&n!==(n=c[7].name+"")&&q(i,n),s&1&&w!==(w=c[7].size+"")&&q(k,w)},d:function(d){d&&_(e),A=!1,U()}};return R("SvelteRegisterBlock",{block:f,id:G.name,type:"each",source:"(73:10) {#each documents as document}",ctx:c}),f}function de(c){let e,o,l,m,n,i,r,w="Your James",k,h,P,v,t,y,A,U;l=new fe({$$inline:!0});let S=Y(c[0]),f=[];for(let d=0;d<S.length;d+=1)f[d]=G(te(c,S,d));const C={c:function(){e=p("div"),o=p("div"),ne(l.$$.fragment),m=O(),n=p("div"),i=p("div"),r=p("h1"),r.textContent=w,k=O(),h=p("button"),P=p("i"),v=O(),t=p("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l:function(s){e=b(s,"DIV",{class:!0});var D=I(e);o=b(D,"DIV",{class:!0});var a=I(o);se(l.$$.fragment,a),m=N(a),n=b(a,"DIV",{class:!0});var B=I(n);i=b(B,"DIV",{class:!0});var x=I(i);r=b(x,"H1",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-8zxus5"&&(r.textContent=w),k=N(x),h=b(x,"BUTTON",{class:!0});var T=I(h);P=b(T,"I",{class:!0}),I(P).forEach(_),T.forEach(_),x.forEach(_),v=N(B),t=b(B,"DIV",{class:!0});var H=I(t);for(let z=0;z<f.length;z+=1)f[z].l(H);H.forEach(_),B.forEach(_),a.forEach(_),D.forEach(_),this.h()},h:function(){$(r,"class","text-4xl font-bold mb-8"),g(r,E,75,10,1952),$(P,"class","fas fa-sign-out-alt"),g(P,E,80,12,2152),$(h,"class","btn btn-secondary btn-md flex items-center s-zqG5o-EiPySZ"),g(h,E,76,10,2014),$(i,"class","flex items-center justify-between"),g(i,E,74,8,1894),$(t,"class","space-y-4"),g(t,E,84,8,2230),$(n,"class","p-8"),g(n,E,73,6,1868),$(o,"class","flex flex-col items-center"),g(o,E,71,4,1804),$(e,"class","flex flex-col min-h-screen min-w-full bg-gray-900 text-white p-4"),g(e,E,70,2,1721)},m:function(s,D){ie(s,e,D),u(e,o),ae(l,o,null),u(o,m),u(o,n),u(n,i),u(i,r),u(i,k),u(i,h),u(h,P),u(n,v),u(n,t);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(t,null);y=!0,A||(U=re(h,"click",c[3],!1,!1,!1,!1),A=!0)},p:function(s,D){if(D&3){S=Y(s[0]);let a;for(a=0;a<S.length;a+=1){const B=te(s,S,a);f[a]?f[a].p(B,D):(f[a]=G(B),f[a].c(),f[a].m(t,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=S.length}},i:function(s){y||(oe(l.$$.fragment,s),y=!0)},o:function(s){le(l.$$.fragment,s),y=!1},d:function(s){s&&_(e),ce(l),pe(f,s),A=!1,U()}};return R("SvelteRegisterBlock",{block:C,id:de.name,type:"slot",source:"(57:0) <AuthCheck>",ctx:c}),C}function L(c){let e,o;e=new ue({props:{$$slots:{default:[de]},$$scope:{ctx:c}},$$inline:!0});const l={c:function(){ne(e.$$.fragment)},l:function(n){se(e.$$.fragment,n)},m:function(n,i){ae(e,n,i),o=!0},p:function(n,[i]){const r={};i&1025&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i:function(n){o||(oe(e.$$.fragment,n),o=!0)},o:function(n){le(e.$$.fragment,n),o=!1},d:function(n){ce(e,n)}};return R("SvelteRegisterBlock",{block:l,id:L.name,type:"component",source:"",ctx:c}),l}function we(c,e,o){let{$$slots:l={},$$scope:m}=e;ve("Page",l,[]);let n,i,r=[];K(async()=>{n=F(M,J);const t=Z;let y=new Q({openAIApiKey:t});i=new W(y,{client:n,tableName:"documents"}),o(0,r=await X(n))});async function w(t){const y=t.split("/"),A=y[y.length-1];await ee(n,A)?o(0,r=r.filter(S=>S.name!==A)):console.error(`Error deleting ${A}`)}async function k(){const{error:t}=await n.auth.signOut();t?console.log(t):window.location.reload()}const h=[];Object.keys(e).forEach(t=>{!~h.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&Ie.warn(`<Page> was created with unknown prop '${t}'`)});const P=()=>k(),v=t=>w(t.name);return c.$capture_state=()=>({onMount:K,createClient:F,SupabaseVectorStore:W,HuggingFaceInferenceEmbeddings:ye,PUBLIC_SUPABASE_KEY:J,PUBLIC_SUPABASE_URL:M,PUBLIC_HUGGINGFACE_API_KEY:Ee,PUBLIC_OPENAI_API_KEY:Z,OpenAIEmbeddings:Q,getDocuments:X,deleteDocument:ee,AuthCheck:ue,NavBar:fe,supabase:n,vector:i,documents:r,handleDeleteDocument:w,signOutUser:k}),c.$inject_state=t=>{"supabase"in t&&(n=t.supabase),"vector"in t&&(i=t.vector),"documents"in t&&o(0,r=t.documents)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),[r,w,k,P,v]}class Ce extends _e{constructor(e){super(e),he(this,e,we,L,me,{}),R("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:L.name})}}export{Ce as component};
