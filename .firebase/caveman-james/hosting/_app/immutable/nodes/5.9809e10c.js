import{s as me,o as q,d as g}from"../chunks/scheduler.98e03797.js";import{S as _e,i as he,d as G,v as ve,D as K,u as ne,w as se,x as ae,f as oe,t as le,y as ce,j as p,s as j,k as b,l as E,c as N,A as ge,g as _,m as D,a as ie,z as u,C as re,G as pe,o as V,p as O,q as Y}from"../chunks/index.e99f61eb.js";import{g as be}from"../chunks/globals.7f7f1b26.js";import{c as F,P as J,a as M,b as Z}from"../chunks/public.8bae8052.js";import{A as ue,S as Q,H as W,N as fe}from"../chunks/NavBar.adcb78d3.js";import{g as X,d as ee}from"../chunks/brain.c0d8c4fe.js";const{console:ye}=be,y="src/routes/profile/+page.svelte";function te(c,e,o){const l=c.slice();return l[7]=e[o],l}function z(c){let e,o,l,m,t=c[7].name+"",i,r,w=c[7].size+"",k,h,$,v,n,I,S,U;function P(){return c[4](c[7])}const f={c:function(){e=p("div"),o=p("div"),l=p("p"),m=p("strong"),i=V(t),r=V(" ("),k=V(w),h=V(" bytes)"),$=j(),v=p("button"),n=p("i"),I=j(),this.h()},l:function(d){e=b(d,"DIV",{class:!0});var s=E(e);o=b(s,"DIV",{});var C=E(o);l=b(C,"P",{class:!0});var a=E(l);m=b(a,"STRONG",{});var x=E(m);i=O(x,t),x.forEach(_),r=O(a," ("),k=O(a,w),h=O(a," bytes)"),a.forEach(_),C.forEach(_),$=N(s),v=b(s,"BUTTON",{class:!0});var A=E(v);n=b(A,"I",{class:!0}),E(n).forEach(_),A.forEach(_),I=N(s),s.forEach(_),this.h()},h:function(){g(m,y,86,18,2262),D(l,"class","text-lg"),g(l,y,85,16,2224),g(o,y,84,14,2202),D(n,"class","fas fa-trash white-icon"),g(n,y,93,16,2522),D(v,"class","btn btn-error"),g(v,y,89,14,2375),D(e,"class","bg-gray-800 p-4 rounded-lg flex items-center justify-between"),g(e,y,81,12,2086)},m:function(d,s){ie(d,e,s),u(e,o),u(o,l),u(l,m),u(m,i),u(l,r),u(l,k),u(l,h),u(e,$),u(e,v),u(v,n),u(e,I),S||(U=re(v,"click",P,!1,!1,!1,!1),S=!0)},p:function(d,s){c=d,s&1&&t!==(t=c[7].name+"")&&Y(i,t),s&1&&w!==(w=c[7].size+"")&&Y(k,w)},d:function(d){d&&_(e),S=!1,U()}};return G("SvelteRegisterBlock",{block:f,id:z.name,type:"each",source:"(68:10) {#each documents as document}",ctx:c}),f}function de(c){let e,o,l,m,t,i,r,w="Your James",k,h,$,v,n,I,S,U;l=new fe({$$inline:!0});let P=K(c[0]),f=[];for(let d=0;d<P.length;d+=1)f[d]=z(te(c,P,d));const B={c:function(){e=p("div"),o=p("div"),ne(l.$$.fragment),m=j(),t=p("div"),i=p("div"),r=p("h1"),r.textContent=w,k=j(),h=p("button"),$=p("i"),v=j(),n=p("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l:function(s){e=b(s,"DIV",{class:!0});var C=E(e);o=b(C,"DIV",{class:!0});var a=E(o);se(l.$$.fragment,a),m=N(a),t=b(a,"DIV",{class:!0});var x=E(t);i=b(x,"DIV",{class:!0});var A=E(i);r=b(A,"H1",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-8zxus5"&&(r.textContent=w),k=N(A),h=b(A,"BUTTON",{class:!0});var H=E(h);$=b(H,"I",{class:!0}),E($).forEach(_),H.forEach(_),A.forEach(_),v=N(x),n=b(x,"DIV",{class:!0});var L=E(n);for(let R=0;R<f.length;R+=1)f[R].l(L);L.forEach(_),x.forEach(_),a.forEach(_),C.forEach(_),this.h()},h:function(){D(r,"class","text-4xl font-bold mb-8"),g(r,y,70,10,1732),D($,"class","fas fa-sign-out-alt"),g($,y,75,12,1932),D(h,"class","btn btn-secondary btn-md flex items-center s-zqG5o-EiPySZ"),g(h,y,71,10,1794),D(i,"class","flex items-center justify-between"),g(i,y,69,8,1674),D(n,"class","space-y-4"),g(n,y,79,8,2010),D(t,"class","p-8"),g(t,y,68,6,1648),D(o,"class","flex flex-col items-center"),g(o,y,66,4,1584),D(e,"class","flex flex-col min-h-screen min-w-full bg-gray-900 text-white p-4"),g(e,y,65,2,1501)},m:function(s,C){ie(s,e,C),u(e,o),ae(l,o,null),u(o,m),u(o,t),u(t,i),u(i,r),u(i,k),u(i,h),u(h,$),u(t,v),u(t,n);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(n,null);I=!0,S||(U=re(h,"click",c[3],!1,!1,!1,!1),S=!0)},p:function(s,C){if(C&3){P=K(s[0]);let a;for(a=0;a<P.length;a+=1){const x=te(s,P,a);f[a]?f[a].p(x,C):(f[a]=z(x),f[a].c(),f[a].m(n,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=P.length}},i:function(s){I||(oe(l.$$.fragment,s),I=!0)},o:function(s){le(l.$$.fragment,s),I=!1},d:function(s){s&&_(e),ce(l),pe(f,s),S=!1,U()}};return G("SvelteRegisterBlock",{block:B,id:de.name,type:"slot",source:"(52:0) <AuthCheck>",ctx:c}),B}function T(c){let e,o;e=new ue({props:{$$slots:{default:[de]},$$scope:{ctx:c}},$$inline:!0});const l={c:function(){ne(e.$$.fragment)},l:function(t){se(e.$$.fragment,t)},m:function(t,i){ae(e,t,i),o=!0},p:function(t,[i]){const r={};i&1025&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i:function(t){o||(oe(e.$$.fragment,t),o=!0)},o:function(t){le(e.$$.fragment,t),o=!1},d:function(t){ce(e,t)}};return G("SvelteRegisterBlock",{block:l,id:T.name,type:"component",source:"",ctx:c}),l}function Ee(c,e,o){let{$$slots:l={},$$scope:m}=e;ve("Page",l,[]);let t,i,r=[];q(async()=>{t=F(M,J),i=new Q(new W({apiKey:Z}),{client:t,tableName:"documents"}),o(0,r=await X(t))});async function w(n){const I=n.split("/"),S=I[I.length-1];await ee(t,S)?o(0,r=r.filter(P=>P.name!==S)):console.error(`Error deleting ${S}`)}async function k(){const{error:n}=await t.auth.signOut();n?console.log(n):window.location.reload()}const h=[];Object.keys(e).forEach(n=>{!~h.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&ye.warn(`<Page> was created with unknown prop '${n}'`)});const $=()=>k(),v=n=>w(n.name);return c.$capture_state=()=>({onMount:q,createClient:F,SupabaseVectorStore:Q,HuggingFaceInferenceEmbeddings:W,PUBLIC_SUPABASE_KEY:J,PUBLIC_SUPABASE_URL:M,PUBLIC_HUGGINGFACE_API_KEY:Z,getDocuments:X,deleteDocument:ee,AuthCheck:ue,NavBar:fe,supabase:t,vector:i,documents:r,handleDeleteDocument:w,signOutUser:k}),c.$inject_state=n=>{"supabase"in n&&(t=n.supabase),"vector"in n&&(i=n.vector),"documents"in n&&o(0,r=n.documents)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),[r,w,k,$,v]}class Pe extends _e{constructor(e){super(e),he(this,e,Ee,T,me,{}),G("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:T.name})}}export{Pe as component};
