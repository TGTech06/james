import{s as ye,o as se,d,r as ke}from"../chunks/scheduler.2364b0ad.js";import{S as Ue,i as Ae,d as X,v as Ie,u as _e,w as he,x as ve,f as be,t as ge,y as pe,j as m,s as D,k as _,l as I,c as L,A as F,g as C,m as r,a as xe,z as s,F as oe,B as Y,o as Be,p as Pe,q as Se}from"../chunks/index.e0615928.js";import{f as ie,u as ce}from"../chunks/files.e71f4db2.js";import{c as re,P as fe,a as ue,b as M}from"../chunks/public.79d73255.js";import{A as Ce,H as de,S as me,N as Ee}from"../chunks/NavBar.74969093.js";const h="src/routes/upload/+page.svelte";function $(o){let t,a;const u={c:function(){t=m("div"),a=Be(o[1]),this.h()},l:function(e){t=_(e,"DIV",{class:!0});var n=I(t);a=Pe(n,o[1]),n.forEach(C),this.h()},h:function(){r(t,"class","text-red-500 mb-4"),d(t,h,71,10,1716)},m:function(e,n){xe(e,t,n),s(t,a)},p:function(e,n){n&2&&Se(a,e[1])},d:function(e){e&&C(t)}};return X("SvelteRegisterBlock",{block:u,id:$.name,type:"if",source:"(60:8) {#if error}",ctx:o}),u}function we(o){let t,a,u,i,e,n,E="Insert Data Page",B,b,c,g,j="Upload Files",V,p,w,T,x,l="Upload Files",J,k,P,te="Add the URL to the database",Q,U,y,W,A,ae="Add URL",q,Z,ne;u=new Ee({$$inline:!0});let f=o[1]&&$(o);const le={c:function(){t=m("div"),a=m("div"),_e(u.$$.fragment),i=D(),e=m("div"),n=m("h1"),n.textContent=E,B=D(),f&&f.c(),b=D(),c=m("div"),g=m("label"),g.textContent=j,V=D(),p=m("div"),w=m("input"),T=D(),x=m("button"),x.textContent=l,J=D(),k=m("div"),P=m("label"),P.textContent=te,Q=D(),U=m("div"),y=m("textarea"),W=D(),A=m("button"),A.textContent=ae,this.h()},l:function(v){t=_(v,"DIV",{class:!0});var R=I(t);a=_(R,"DIV",{class:!0});var z=I(a);he(u.$$.fragment,z),i=L(z),e=_(z,"DIV",{class:!0});var S=I(e);n=_(S,"H1",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1jf55pk"&&(n.textContent=E),B=L(S),f&&f.l(S),b=L(S),c=_(S,"DIV",{class:!0});var H=I(c);g=_(H,"LABEL",{class:!0,"data-svelte-h":!0}),F(g)!=="svelte-qb0qet"&&(g.textContent=j),V=L(H),p=_(H,"DIV",{class:!0});var O=I(p);w=_(O,"INPUT",{type:!0,class:!0}),T=L(O),x=_(O,"BUTTON",{class:!0,"data-svelte-h":!0}),F(x)!=="svelte-lgl95g"&&(x.textContent=l),O.forEach(C),H.forEach(C),J=L(S),k=_(S,"DIV",{class:!0});var G=I(k);P=_(G,"LABEL",{class:!0,"data-svelte-h":!0}),F(P)!=="svelte-qczuz7"&&(P.textContent=te),Q=L(G),U=_(G,"DIV",{class:!0});var K=I(U);y=_(K,"TEXTAREA",{class:!0,rows:!0}),I(y).forEach(C),W=L(K),A=_(K,"BUTTON",{class:!0,"data-svelte-h":!0}),F(A)!=="svelte-i43hfh"&&(A.textContent=ae),K.forEach(C),G.forEach(C),S.forEach(C),z.forEach(C),R.forEach(C),this.h()},h:function(){r(n,"class","text-4xl font-bold mb-8"),d(n,h,68,8,1597),r(g,"class","label mb-2 text-lg font-bold"),d(g,h,76,10,1851),r(w,"type","file"),w.multiple=!0,r(w,"class","input input-accent mr-4"),d(w,h,78,12,1970),r(x,"class","btn btn-primary text-lg font-bold"),d(x,h,84,12,2132),r(p,"class","flex items-center"),d(p,h,77,10,1926),r(c,"class","w-full mb-8"),d(c,h,75,8,1815),r(P,"class","label mb-2 text-lg font-bold"),d(P,h,95,10,2411),r(y,"class","textarea textarea-accent resize-none flex-grow text-lg font-bold"),r(y,"rows","1"),d(y,h,99,12,2569),r(A,"class","btn btn-primary text-lg font-bold ml-4"),d(A,h,104,12,2747),r(U,"class","flex items-center"),d(U,h,98,10,2525),r(k,"class","w-full"),d(k,h,94,8,2380),r(e,"class","p-8 flex flex-col items-center h-screen"),d(e,h,67,6,1535),r(a,"class","flex flex-col items-center"),d(a,h,65,4,1471),r(t,"class","flex flex-col min-h-screen min-w-full bg-gray-900 text-white p-4"),d(t,h,64,2,1388)},m:function(v,R){xe(v,t,R),s(t,a),ve(u,a,null),s(a,i),s(a,e),s(e,n),s(e,B),f&&f.m(e,null),s(e,b),s(e,c),s(c,g),s(c,V),s(c,p),s(p,w),s(p,T),s(p,x),s(e,J),s(e,k),s(k,P),s(k,Q),s(k,U),s(U,y),oe(y,o[0]),s(U,W),s(U,A),q=!0,Z||(ne=[Y(w,"change",o[2],!1,!1,!1,!1),Y(x,"click",o[5],!1,!1,!1,!1),Y(y,"input",o[6]),Y(A,"click",o[7],!1,!1,!1,!1)],Z=!0)},p:function(v,R){v[1]?f?f.p(v,R):(f=$(v),f.c(),f.m(e,b)):f&&(f.d(1),f=null),R&1&&oe(y,v[0])},i:function(v){q||(be(u.$$.fragment,v),q=!0)},o:function(v){ge(u.$$.fragment,v),q=!1},d:function(v){v&&C(t),pe(u),f&&f.d(),Z=!1,ke(ne)}};return X("SvelteRegisterBlock",{block:le,id:we.name,type:"slot",source:"(53:0) <AuthCheck>",ctx:o}),le}function ee(o){let t,a;t=new Ce({props:{$$slots:{default:[we]},$$scope:{ctx:o}},$$inline:!0});const u={c:function(){_e(t.$$.fragment)},l:function(e){he(t.$$.fragment,e)},m:function(e,n){ve(t,e,n),a=!0},p:function(e,[n]){const E={};n&4099&&(E.$$scope={dirty:n,ctx:e}),t.$set(E)},i:function(e){a||(be(t.$$.fragment,e),a=!0)},o:function(e){ge(t.$$.fragment,e),a=!1},d:function(e){pe(t,e)}};return X("SvelteRegisterBlock",{block:u,id:ee.name,type:"component",source:"",ctx:o}),u}function De(o,t,a){let{$$slots:u={},$$scope:i}=t;Ie("Page",u,[]);let e,n,E,B,b,c="";async function g(l){B=l.target.files[0]}se(()=>{e=re(ue,fe),E=new de({apiKey:M}),n=new me(E,{client:e,tableName:"documents"})});async function j(){try{await ie(e,M,n,B),a(1,c="")}catch(l){a(1,c=l.message)}}async function V(){try{await ce(e,M,n,b),a(1,c="")}catch(l){a(1,c=l.message)}}const p=[];Object.keys(t).forEach(l=>{!~p.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)});const w=()=>j();function T(){b=this.value,a(0,b)}const x=()=>V();return o.$capture_state=()=>({file_uploader:ie,url_uploader:ce,createClient:re,SupabaseVectorStore:me,HuggingFaceInferenceEmbeddings:de,onMount:se,PUBLIC_SUPABASE_KEY:fe,PUBLIC_SUPABASE_URL:ue,PUBLIC_HUGGINGFACE_API_KEY:M,AuthCheck:Ce,NavBar:Ee,supabase:e,vector:n,embeddings:E,files:B,url:b,error:c,upload:g,handleFileUpload:j,handleUrlUpload:V}),o.$inject_state=l=>{"supabase"in l&&(e=l.supabase),"vector"in l&&(n=l.vector),"embeddings"in l&&(E=l.embeddings),"files"in l&&(B=l.files),"url"in l&&a(0,b=l.url),"error"in l&&a(1,c=l.error)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),[b,c,g,j,V,w,T,x]}class Te extends Ue{constructor(t){super(t),Ae(this,t,De,ee,ye,{}),X("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:ee.name})}}export{Te as component};
