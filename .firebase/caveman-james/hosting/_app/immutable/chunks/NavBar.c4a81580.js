import{g as ke,f as B,c as at,P as st,a as it}from"./public.9062b0fe.js";import{s as $t,o as ot,b as ut,e as Sr,d as S,n as Q,u as Cr,g as Tr,f as Rr}from"./scheduler.2364b0ad.js";import{S as zt,i as kt,d as Y,v as Ht,e as ct,a as ne,r as jr,t as Ue,b as Ir,f as Ne,g as I,j as C,s as K,k as T,l as q,A as z,c as W,m as E,z as w}from"./index.9f7452a2.js";import{g as xr}from"./globals.7f7f1b26.js";var Be={},Jt={},He={exports:{}},Qt=function(e,n){return function(){for(var i=new Array(arguments.length),d=0;d<i.length;d++)i[d]=arguments[d];return e.apply(n,i)}},Fr=Qt,D=Object.prototype.toString;function Je(t){return Array.isArray(t)}function qe(t){return typeof t>"u"}function Vr(t){return t!==null&&!qe(t)&&t.constructor!==null&&!qe(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Yt(t){return D.call(t)==="[object ArrayBuffer]"}function Ur(t){return D.call(t)==="[object FormData]"}function Nr(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yt(t.buffer),e}function Br(t){return typeof t=="string"}function qr(t){return typeof t=="number"}function Kt(t){return t!==null&&typeof t=="object"}function ee(t){if(D.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Dr(t){return D.call(t)==="[object Date]"}function Lr(t){return D.call(t)==="[object File]"}function Mr(t){return D.call(t)==="[object Blob]"}function Wt(t){return D.call(t)==="[object Function]"}function $r(t){return Kt(t)&&Wt(t.pipe)}function zr(t){return D.call(t)==="[object URLSearchParams]"}function kr(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Hr(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Qe(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Je(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function De(){var t={};function e(i,d){ee(t[d])&&ee(i)?t[d]=De(t[d],i):ee(i)?t[d]=De({},i):Je(i)?t[d]=i.slice():t[d]=i}for(var n=0,r=arguments.length;n<r;n++)Qe(arguments[n],e);return t}function Jr(t,e,n){return Qe(e,function(i,d){n&&typeof i=="function"?t[d]=Fr(i,n):t[d]=i}),t}function Qr(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var R={isArray:Je,isArrayBuffer:Yt,isBuffer:Vr,isFormData:Ur,isArrayBufferView:Nr,isString:Br,isNumber:qr,isObject:Kt,isPlainObject:ee,isUndefined:qe,isDate:Dr,isFile:Lr,isBlob:Mr,isFunction:Wt,isStream:$r,isURLSearchParams:zr,isStandardBrowserEnv:Hr,forEach:Qe,merge:De,extend:Jr,trim:kr,stripBOM:Qr},H=R;function lt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Gt=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(H.isURLSearchParams(n))i=n.toString();else{var d=[];H.forEach(n,function(o,c){o===null||typeof o>"u"||(H.isArray(o)?c=c+"[]":o=[o],H.forEach(o,function(s){H.isDate(s)?s=s.toISOString():H.isObject(s)&&(s=JSON.stringify(s)),d.push(lt(c)+"="+lt(s))}))}),i=d.join("&")}if(i){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Yr=R;function ae(){this.handlers=[]}ae.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};ae.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ae.prototype.forEach=function(e){Yr.forEach(this.handlers,function(r){r!==null&&e(r)})};var Kr=ae,Wr=R,Gr=function(e,n){Wr.forEach(e,function(i,d){d!==n&&d.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[d])})},Xt=function(e,n,r,i,d){return e.config=n,r&&(e.code=r),e.request=i,e.response=d,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pe,dt;function er(){if(dt)return pe;dt=1;var t=Xt;return pe=function(n,r,i,d,l){var a=new Error(n);return t(a,r,i,d,l)},pe}var me,ht;function Xr(){if(ht)return me;ht=1;var t=er();return me=function(n,r,i){var d=i.config.validateStatus;!i.status||!d||d(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},me}var ve,ft;function Zr(){if(ft)return ve;ft=1;var t=R;return ve=t.isStandardBrowserEnv()?function(){return{write:function(r,i,d,l,a,o){var c=[];c.push(r+"="+encodeURIComponent(i)),t.isNumber(d)&&c.push("expires="+new Date(d).toGMTString()),t.isString(l)&&c.push("path="+l),t.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ve}var be,pt;function en(){return pt||(pt=1,be=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),be}var Oe,mt;function tn(){return mt||(mt=1,Oe=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Oe}var ye,vt;function rn(){if(vt)return ye;vt=1;var t=en(),e=tn();return ye=function(r,i){return r&&!t(i)?e(r,i):i},ye}var _e,bt;function nn(){if(bt)return _e;bt=1;var t=R,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return _e=function(r){var i={},d,l,a;return r&&t.forEach(r.split(`
`),function(c){if(a=c.indexOf(":"),d=t.trim(c.substr(0,a)).toLowerCase(),l=t.trim(c.substr(a+1)),d){if(i[d]&&e.indexOf(d)>=0)return;d==="set-cookie"?i[d]=(i[d]?i[d]:[]).concat([l]):i[d]=i[d]?i[d]+", "+l:l}}),i},_e}var ge,Ot;function an(){if(Ot)return ge;Ot=1;var t=R;return ge=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function d(l){var a=l;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=d(window.location.href),function(a){var o=t.isString(a)?d(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),ge}var Ae,yt;function se(){if(yt)return Ae;yt=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Ae=t,Ae}var Ee,_t;function gt(){if(_t)return Ee;_t=1;var t=R,e=Xr(),n=Zr(),r=Gt,i=rn(),d=nn(),l=an(),a=er(),o=Zt,c=se();return Ee=function(s){return new Promise(function(f,p){var m=s.data,v=s.headers,O=s.responseType,_;function y(){s.cancelToken&&s.cancelToken.unsubscribe(_),s.signal&&s.signal.removeEventListener("abort",_)}t.isFormData(m)&&delete v["Content-Type"];var b=new XMLHttpRequest;if(s.auth){var g=s.auth.username||"",V=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";v.Authorization="Basic "+btoa(g+":"+V)}var tt=i(s.baseURL,s.url);b.open(s.method.toUpperCase(),r(tt,s.params,s.paramsSerializer),!0),b.timeout=s.timeout;function rt(){if(b){var F="getAllResponseHeaders"in b?d(b.getAllResponseHeaders()):null,k=!O||O==="text"||O==="json"?b.responseText:b.response,L={data:k,status:b.status,statusText:b.statusText,headers:F,config:s,request:b};e(function(fe){f(fe),y()},function(fe){p(fe),y()},L),b=null}}if("onloadend"in b?b.onloadend=rt:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(rt)},b.onabort=function(){b&&(p(a("Request aborted",s,"ECONNABORTED",b)),b=null)},b.onerror=function(){p(a("Network Error",s,null,b)),b=null},b.ontimeout=function(){var k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",L=s.transitional||o;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),p(a(k,s,L.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var nt=(s.withCredentials||l(tt))&&s.xsrfCookieName?n.read(s.xsrfCookieName):void 0;nt&&(v[s.xsrfHeaderName]=nt)}"setRequestHeader"in b&&t.forEach(v,function(k,L){typeof m>"u"&&L.toLowerCase()==="content-type"?delete v[L]:b.setRequestHeader(L,k)}),t.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),O&&O!=="json"&&(b.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&b.addEventListener("progress",s.onDownloadProgress),typeof s.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",s.onUploadProgress),(s.cancelToken||s.signal)&&(_=function(F){b&&(p(!F||F&&F.type?new c("canceled"):F),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(_),s.signal&&(s.signal.aborted?_():s.signal.addEventListener("abort",_))),m||(m=null),b.send(m)})},Ee}var P=R,At=Gr,sn=Xt,on=Zt,un={"Content-Type":"application/x-www-form-urlencoded"};function Et(t,e){!P.isUndefined(t)&&P.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function cn(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=gt()),t}function ln(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var ie={transitional:on,adapter:cn(),transformRequest:[function(e,n){return At(n,"Accept"),At(n,"Content-Type"),P.isFormData(e)||P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)?e:P.isArrayBufferView(e)?e.buffer:P.isURLSearchParams(e)?(Et(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):P.isObject(e)||n&&n["Content-Type"]==="application/json"?(Et(n,"application/json"),ln(e)):e}],transformResponse:[function(e){var n=this.transitional||ie.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,d=!r&&this.responseType==="json";if(d||i&&P.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(d)throw l.name==="SyntaxError"?sn(l,this,"E_JSON_PARSE"):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};P.forEach(["delete","get","head"],function(e){ie.headers[e]={}});P.forEach(["post","put","patch"],function(e){ie.headers[e]=P.merge(un)});var Ye=ie,dn=R,hn=Ye,fn=function(e,n,r){var i=this||hn;return dn.forEach(r,function(l){e=l.call(i,e,n)}),e},we,wt;function tr(){return wt||(wt=1,we=function(e){return!!(e&&e.__CANCEL__)}),we}var Pt=R,Pe=fn,pn=tr(),mn=Ye,vn=se();function Se(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vn("canceled")}var bn=function(e){Se(e),e.headers=e.headers||{},e.data=Pe.call(e,e.data,e.headers,e.transformRequest),e.headers=Pt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Pt.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||mn.adapter;return n(e).then(function(i){return Se(e),i.data=Pe.call(e,i.data,i.headers,e.transformResponse),i},function(i){return pn(i)||(Se(e),i&&i.response&&(i.response.data=Pe.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},j=R,rr=function(e,n){n=n||{};var r={};function i(u,s){return j.isPlainObject(u)&&j.isPlainObject(s)?j.merge(u,s):j.isPlainObject(s)?j.merge({},s):j.isArray(s)?s.slice():s}function d(u){if(j.isUndefined(n[u])){if(!j.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],n[u])}function l(u){if(!j.isUndefined(n[u]))return i(void 0,n[u])}function a(u){if(j.isUndefined(n[u])){if(!j.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,n[u])}function o(u){if(u in n)return i(e[u],n[u]);if(u in e)return i(void 0,e[u])}var c={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o};return j.forEach(Object.keys(e).concat(Object.keys(n)),function(s){var h=c[s]||d,f=h(s);j.isUndefined(f)&&h!==o||(r[s]=f)}),r},Ce,St;function nr(){return St||(St=1,Ce={version:"0.26.1"}),Ce}var On=nr().version,Ke={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Ke[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Ct={};Ke.transitional=function(e,n,r){function i(d,l){return"[Axios v"+On+"] Transitional option '"+d+"'"+l+(r?". "+r:"")}return function(d,l,a){if(e===!1)throw new Error(i(l," has been removed"+(n?" in "+n:"")));return n&&!Ct[l]&&(Ct[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(d,l,a):!0}};function yn(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var d=r[i],l=e[d];if(l){var a=t[d],o=a===void 0||l(a,d,t);if(o!==!0)throw new TypeError("option "+d+" must be "+o);continue}if(n!==!0)throw Error("Unknown option "+d)}}var _n={assertOptions:yn,validators:Ke},ar=R,gn=Gt,Tt=Kr,Rt=bn,oe=rr,sr=_n,J=sr.validators;function G(t){this.defaults=t,this.interceptors={request:new Tt,response:new Tt}}G.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oe(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&sr.assertOptions(r,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1);var i=[],d=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(d=d&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});var l=[];this.interceptors.response.forEach(function(f){l.push(f.fulfilled,f.rejected)});var a;if(!d){var o=[Rt,void 0];for(Array.prototype.unshift.apply(o,i),o=o.concat(l),a=Promise.resolve(n);o.length;)a=a.then(o.shift(),o.shift());return a}for(var c=n;i.length;){var u=i.shift(),s=i.shift();try{c=u(c)}catch(h){s(h);break}}try{a=Rt(c)}catch(h){return Promise.reject(h)}for(;l.length;)a=a.then(l.shift(),l.shift());return a};G.prototype.getUri=function(e){return e=oe(this.defaults,e),gn(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ar.forEach(["delete","get","head","options"],function(e){G.prototype[e]=function(n,r){return this.request(oe(r||{},{method:e,url:n,data:(r||{}).data}))}});ar.forEach(["post","put","patch"],function(e){G.prototype[e]=function(n,r,i){return this.request(oe(i||{},{method:e,url:n,data:r}))}});var An=G,Te,jt;function En(){if(jt)return Te;jt=1;var t=se();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(l){r=l});var i=this;this.promise.then(function(d){if(i._listeners){var l,a=i._listeners.length;for(l=0;l<a;l++)i._listeners[l](d);i._listeners=null}}),this.promise.then=function(d){var l,a=new Promise(function(o){i.subscribe(o),l=o}).then(d);return a.cancel=function(){i.unsubscribe(l)},a},n(function(l){i.reason||(i.reason=new t(l),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(l){r=l});return{token:i,cancel:r}},Te=e,Te}var Re,It;function wn(){return It||(It=1,Re=function(e){return function(r){return e.apply(null,r)}}),Re}var je,xt;function Pn(){if(xt)return je;xt=1;var t=R;return je=function(n){return t.isObject(n)&&n.isAxiosError===!0},je}var Ft=R,Sn=Qt,te=An,Cn=rr,Tn=Ye;function ir(t){var e=new te(t),n=Sn(te.prototype.request,e);return Ft.extend(n,te.prototype,e),Ft.extend(n,e),n.create=function(i){return ir(Cn(t,i))},n}var U=ir(Tn);U.Axios=te;U.Cancel=se();U.CancelToken=En();U.isCancel=tr();U.VERSION=nr().version;U.all=function(e){return Promise.all(e)};U.spread=wn();U.isAxiosError=Pn();He.exports=U;He.exports.default=U;var Rn=He.exports,We=Rn;const X=ke(We);var A={},Ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const e=We;t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class n{constructor(d,l=t.BASE_PATH,a=e.default){this.basePath=l,this.axios=a,d&&(this.configuration=d,this.basePath=d.basePath||this.basePath)}}t.BaseAPI=n;class r extends Error{constructor(d,l){super(l),this.field=d,this.name="RequiredError"}}t.RequiredError=r})(Ge);var Xe=B&&B.__awaiter||function(t,e,n,r){function i(d){return d instanceof n?d:new n(function(l){l(d)})}return new(n||(n=Promise))(function(d,l){function a(u){try{c(r.next(u))}catch(s){l(s)}}function o(u){try{c(r.throw(u))}catch(s){l(s)}}function c(u){u.done?d(u.value):i(u.value).then(a,o)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.createRequestFunction=A.toPathString=A.serializeDataIfNeeded=A.setSearchParams=A.setOAuthToObject=A.setBearerAuthToObject=A.setBasicAuthToObject=A.setApiKeyToObject=A.assertParamExists=A.DUMMY_BASE_URL=void 0;const jn=Ge;A.DUMMY_BASE_URL="https://example.com";A.assertParamExists=function(t,e,n){if(n==null)throw new jn.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${t}.`)};A.setApiKeyToObject=function(t,e,n){return Xe(this,void 0,void 0,function*(){if(n&&n.apiKey){const r=typeof n.apiKey=="function"?yield n.apiKey(e):yield n.apiKey;t[e]=r}})};A.setBasicAuthToObject=function(t,e){e&&(e.username||e.password)&&(t.auth={username:e.username,password:e.password})};A.setBearerAuthToObject=function(t,e){return Xe(this,void 0,void 0,function*(){if(e&&e.accessToken){const n=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;t.Authorization="Bearer "+n}})};A.setOAuthToObject=function(t,e,n,r){return Xe(this,void 0,void 0,function*(){if(r&&r.accessToken){const i=typeof r.accessToken=="function"?yield r.accessToken(e,n):yield r.accessToken;t.Authorization="Bearer "+i}})};function Le(t,e,n=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(r=>Le(t,r,n)):Object.keys(e).forEach(r=>Le(t,e[r],`${n}${n!==""?".":""}${r}`)):t.has(n)?t.append(n,e):t.set(n,e))}A.setSearchParams=function(t,...e){const n=new URLSearchParams(t.search);Le(n,e),t.search=n.toString()};A.serializeDataIfNeeded=function(t,e,n){const r=typeof t!="string";return(r&&n&&n.isJsonMime?n.isJsonMime(e.headers["Content-Type"]):r)?JSON.stringify(t!==void 0?t:{}):t||""};A.toPathString=function(t){return t.pathname+t.search+t.hash};A.createRequestFunction=function(t,e,n,r){return(i=e,d=n)=>{const l=Object.assign(Object.assign({},t.options),{url:((r==null?void 0:r.basePath)||d)+t.url});return i.request(l)}};(function(t){var e=B&&B.__awaiter||function(l,a,o,c){function u(s){return s instanceof o?s:new o(function(h){h(s)})}return new(o||(o=Promise))(function(s,h){function f(v){try{m(c.next(v))}catch(O){h(O)}}function p(v){try{m(c.throw(v))}catch(O){h(O)}}function m(v){v.done?s(v.value):u(v.value).then(f,p)}m((c=c.apply(l,a||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const n=We,r=A,i=Ge;t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(l){return{cancelFineTune:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("cancelFineTune","fineTuneId",a);const c="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),createAnswer:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createAnswer","createAnswerRequest",a);const c="/answers",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createChatCompletion:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createChatCompletion","createChatCompletionRequest",a);const c="/chat/completions",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createClassification:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createClassification","createClassificationRequest",a);const c="/classifications",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createCompletion:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createCompletion","createCompletionRequest",a);const c="/completions",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createEdit:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createEdit","createEditRequest",a);const c="/edits",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createEmbedding:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createEmbedding","createEmbeddingRequest",a);const c="/embeddings",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createFile:(a,o,c={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createFile","file",a),r.assertParamExists("createFile","purpose",o);const u="/files",s=new URL(u,r.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const f=Object.assign(Object.assign({method:"POST"},h),c),p={},m={},v=new(l&&l.formDataCtor||FormData);a!==void 0&&v.append("file",a),o!==void 0&&v.append("purpose",o),p["Content-Type"]="multipart/form-data",r.setSearchParams(s,m);let O=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),v.getHeaders()),O),c.headers),f.data=v,{url:r.toPathString(s),options:f}}),createFineTune:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createFineTune","createFineTuneRequest",a);const c="/fine-tunes",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createImage:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImage","createImageRequest",a);const c="/images/generations",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createImageEdit:(a,o,c,u,s,h,f,p={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImageEdit","image",a),r.assertParamExists("createImageEdit","prompt",o);const m="/images/edits",v=new URL(m,r.DUMMY_BASE_URL);let O;l&&(O=l.baseOptions);const _=Object.assign(Object.assign({method:"POST"},O),p),y={},b={},g=new(l&&l.formDataCtor||FormData);a!==void 0&&g.append("image",a),c!==void 0&&g.append("mask",c),o!==void 0&&g.append("prompt",o),u!==void 0&&g.append("n",u),s!==void 0&&g.append("size",s),h!==void 0&&g.append("response_format",h),f!==void 0&&g.append("user",f),y["Content-Type"]="multipart/form-data",r.setSearchParams(v,b);let V=O&&O.headers?O.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),g.getHeaders()),V),p.headers),_.data=g,{url:r.toPathString(v),options:_}}),createImageVariation:(a,o,c,u,s,h={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImageVariation","image",a);const f="/images/variations",p=new URL(f,r.DUMMY_BASE_URL);let m;l&&(m=l.baseOptions);const v=Object.assign(Object.assign({method:"POST"},m),h),O={},_={},y=new(l&&l.formDataCtor||FormData);a!==void 0&&y.append("image",a),o!==void 0&&y.append("n",o),c!==void 0&&y.append("size",c),u!==void 0&&y.append("response_format",u),s!==void 0&&y.append("user",s),O["Content-Type"]="multipart/form-data",r.setSearchParams(p,_);let b=m&&m.headers?m.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},O),y.getHeaders()),b),h.headers),v.data=y,{url:r.toPathString(p),options:v}}),createModeration:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createModeration","createModerationRequest",a);const c="/moderations",u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},s),o),f={},p={};f["Content-Type"]="application/json",r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),h.data=r.serializeDataIfNeeded(a,h,l),{url:r.toPathString(u),options:h}}),createSearch:(a,o,c={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createSearch","engineId",a),r.assertParamExists("createSearch","createSearchRequest",o);const u="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(a))),s=new URL(u,r.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const f=Object.assign(Object.assign({method:"POST"},h),c),p={},m={};p["Content-Type"]="application/json",r.setSearchParams(s,m);let v=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),v),c.headers),f.data=r.serializeDataIfNeeded(o,f,l),{url:r.toPathString(s),options:f}}),createTranscription:(a,o,c,u,s,h,f={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createTranscription","file",a),r.assertParamExists("createTranscription","model",o);const p="/audio/transcriptions",m=new URL(p,r.DUMMY_BASE_URL);let v;l&&(v=l.baseOptions);const O=Object.assign(Object.assign({method:"POST"},v),f),_={},y={},b=new(l&&l.formDataCtor||FormData);a!==void 0&&b.append("file",a),o!==void 0&&b.append("model",o),c!==void 0&&b.append("prompt",c),u!==void 0&&b.append("response_format",u),s!==void 0&&b.append("temperature",s),h!==void 0&&b.append("language",h),_["Content-Type"]="multipart/form-data",r.setSearchParams(m,y);let g=v&&v.headers?v.headers:{};return O.headers=Object.assign(Object.assign(Object.assign(Object.assign({},_),b.getHeaders()),g),f.headers),O.data=b,{url:r.toPathString(m),options:O}}),createTranslation:(a,o,c,u,s,h={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createTranslation","file",a),r.assertParamExists("createTranslation","model",o);const f="/audio/translations",p=new URL(f,r.DUMMY_BASE_URL);let m;l&&(m=l.baseOptions);const v=Object.assign(Object.assign({method:"POST"},m),h),O={},_={},y=new(l&&l.formDataCtor||FormData);a!==void 0&&y.append("file",a),o!==void 0&&y.append("model",o),c!==void 0&&y.append("prompt",c),u!==void 0&&y.append("response_format",u),s!==void 0&&y.append("temperature",s),O["Content-Type"]="multipart/form-data",r.setSearchParams(p,_);let b=m&&m.headers?m.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},O),y.getHeaders()),b),h.headers),v.data=y,{url:r.toPathString(p),options:v}}),deleteFile:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("deleteFile","fileId",a);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"DELETE"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),deleteModel:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("deleteModel","model",a);const c="/models/{model}".replace("{model}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"DELETE"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),downloadFile:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("downloadFile","fileId",a);const c="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),listEngines:(a={})=>e(this,void 0,void 0,function*(){const o="/engines",c=new URL(o,r.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const s=Object.assign(Object.assign({method:"GET"},u),a),h={},f={};r.setSearchParams(c,f);let p=u&&u.headers?u.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},h),p),a.headers),{url:r.toPathString(c),options:s}}),listFiles:(a={})=>e(this,void 0,void 0,function*(){const o="/files",c=new URL(o,r.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const s=Object.assign(Object.assign({method:"GET"},u),a),h={},f={};r.setSearchParams(c,f);let p=u&&u.headers?u.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},h),p),a.headers),{url:r.toPathString(c),options:s}}),listFineTuneEvents:(a,o,c={})=>e(this,void 0,void 0,function*(){r.assertParamExists("listFineTuneEvents","fineTuneId",a);const u="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(a))),s=new URL(u,r.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const f=Object.assign(Object.assign({method:"GET"},h),c),p={},m={};o!==void 0&&(m.stream=o),r.setSearchParams(s,m);let v=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),v),c.headers),{url:r.toPathString(s),options:f}}),listFineTunes:(a={})=>e(this,void 0,void 0,function*(){const o="/fine-tunes",c=new URL(o,r.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const s=Object.assign(Object.assign({method:"GET"},u),a),h={},f={};r.setSearchParams(c,f);let p=u&&u.headers?u.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},h),p),a.headers),{url:r.toPathString(c),options:s}}),listModels:(a={})=>e(this,void 0,void 0,function*(){const o="/models",c=new URL(o,r.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const s=Object.assign(Object.assign({method:"GET"},u),a),h={},f={};r.setSearchParams(c,f);let p=u&&u.headers?u.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},h),p),a.headers),{url:r.toPathString(c),options:s}}),retrieveEngine:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveEngine","engineId",a);const c="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),retrieveFile:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveFile","fileId",a);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),retrieveFineTune:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveFineTune","fineTuneId",a);const c="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}}),retrieveModel:(a,o={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveModel","model",a);const c="/models/{model}".replace("{model}",encodeURIComponent(String(a))),u=new URL(c,r.DUMMY_BASE_URL);let s;l&&(s=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},s),o),f={},p={};r.setSearchParams(u,p);let m=s&&s.headers?s.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},f),m),o.headers),{url:r.toPathString(u),options:h}})}},t.OpenAIApiFp=function(l){const a=t.OpenAIApiAxiosParamCreator(l);return{cancelFineTune(o,c){return e(this,void 0,void 0,function*(){const u=yield a.cancelFineTune(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createAnswer(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createAnswer(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createChatCompletion(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createChatCompletion(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createClassification(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createClassification(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createCompletion(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createCompletion(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createEdit(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createEdit(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createEmbedding(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createEmbedding(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createFile(o,c,u){return e(this,void 0,void 0,function*(){const s=yield a.createFile(o,c,u);return r.createRequestFunction(s,n.default,i.BASE_PATH,l)})},createFineTune(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createFineTune(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createImage(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createImage(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createImageEdit(o,c,u,s,h,f,p,m){return e(this,void 0,void 0,function*(){const v=yield a.createImageEdit(o,c,u,s,h,f,p,m);return r.createRequestFunction(v,n.default,i.BASE_PATH,l)})},createImageVariation(o,c,u,s,h,f){return e(this,void 0,void 0,function*(){const p=yield a.createImageVariation(o,c,u,s,h,f);return r.createRequestFunction(p,n.default,i.BASE_PATH,l)})},createModeration(o,c){return e(this,void 0,void 0,function*(){const u=yield a.createModeration(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},createSearch(o,c,u){return e(this,void 0,void 0,function*(){const s=yield a.createSearch(o,c,u);return r.createRequestFunction(s,n.default,i.BASE_PATH,l)})},createTranscription(o,c,u,s,h,f,p){return e(this,void 0,void 0,function*(){const m=yield a.createTranscription(o,c,u,s,h,f,p);return r.createRequestFunction(m,n.default,i.BASE_PATH,l)})},createTranslation(o,c,u,s,h,f){return e(this,void 0,void 0,function*(){const p=yield a.createTranslation(o,c,u,s,h,f);return r.createRequestFunction(p,n.default,i.BASE_PATH,l)})},deleteFile(o,c){return e(this,void 0,void 0,function*(){const u=yield a.deleteFile(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},deleteModel(o,c){return e(this,void 0,void 0,function*(){const u=yield a.deleteModel(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},downloadFile(o,c){return e(this,void 0,void 0,function*(){const u=yield a.downloadFile(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},listEngines(o){return e(this,void 0,void 0,function*(){const c=yield a.listEngines(o);return r.createRequestFunction(c,n.default,i.BASE_PATH,l)})},listFiles(o){return e(this,void 0,void 0,function*(){const c=yield a.listFiles(o);return r.createRequestFunction(c,n.default,i.BASE_PATH,l)})},listFineTuneEvents(o,c,u){return e(this,void 0,void 0,function*(){const s=yield a.listFineTuneEvents(o,c,u);return r.createRequestFunction(s,n.default,i.BASE_PATH,l)})},listFineTunes(o){return e(this,void 0,void 0,function*(){const c=yield a.listFineTunes(o);return r.createRequestFunction(c,n.default,i.BASE_PATH,l)})},listModels(o){return e(this,void 0,void 0,function*(){const c=yield a.listModels(o);return r.createRequestFunction(c,n.default,i.BASE_PATH,l)})},retrieveEngine(o,c){return e(this,void 0,void 0,function*(){const u=yield a.retrieveEngine(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},retrieveFile(o,c){return e(this,void 0,void 0,function*(){const u=yield a.retrieveFile(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},retrieveFineTune(o,c){return e(this,void 0,void 0,function*(){const u=yield a.retrieveFineTune(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})},retrieveModel(o,c){return e(this,void 0,void 0,function*(){const u=yield a.retrieveModel(o,c);return r.createRequestFunction(u,n.default,i.BASE_PATH,l)})}}},t.OpenAIApiFactory=function(l,a,o){const c=t.OpenAIApiFp(l);return{cancelFineTune(u,s){return c.cancelFineTune(u,s).then(h=>h(o,a))},createAnswer(u,s){return c.createAnswer(u,s).then(h=>h(o,a))},createChatCompletion(u,s){return c.createChatCompletion(u,s).then(h=>h(o,a))},createClassification(u,s){return c.createClassification(u,s).then(h=>h(o,a))},createCompletion(u,s){return c.createCompletion(u,s).then(h=>h(o,a))},createEdit(u,s){return c.createEdit(u,s).then(h=>h(o,a))},createEmbedding(u,s){return c.createEmbedding(u,s).then(h=>h(o,a))},createFile(u,s,h){return c.createFile(u,s,h).then(f=>f(o,a))},createFineTune(u,s){return c.createFineTune(u,s).then(h=>h(o,a))},createImage(u,s){return c.createImage(u,s).then(h=>h(o,a))},createImageEdit(u,s,h,f,p,m,v,O){return c.createImageEdit(u,s,h,f,p,m,v,O).then(_=>_(o,a))},createImageVariation(u,s,h,f,p,m){return c.createImageVariation(u,s,h,f,p,m).then(v=>v(o,a))},createModeration(u,s){return c.createModeration(u,s).then(h=>h(o,a))},createSearch(u,s,h){return c.createSearch(u,s,h).then(f=>f(o,a))},createTranscription(u,s,h,f,p,m,v){return c.createTranscription(u,s,h,f,p,m,v).then(O=>O(o,a))},createTranslation(u,s,h,f,p,m){return c.createTranslation(u,s,h,f,p,m).then(v=>v(o,a))},deleteFile(u,s){return c.deleteFile(u,s).then(h=>h(o,a))},deleteModel(u,s){return c.deleteModel(u,s).then(h=>h(o,a))},downloadFile(u,s){return c.downloadFile(u,s).then(h=>h(o,a))},listEngines(u){return c.listEngines(u).then(s=>s(o,a))},listFiles(u){return c.listFiles(u).then(s=>s(o,a))},listFineTuneEvents(u,s,h){return c.listFineTuneEvents(u,s,h).then(f=>f(o,a))},listFineTunes(u){return c.listFineTunes(u).then(s=>s(o,a))},listModels(u){return c.listModels(u).then(s=>s(o,a))},retrieveEngine(u,s){return c.retrieveEngine(u,s).then(h=>h(o,a))},retrieveFile(u,s){return c.retrieveFile(u,s).then(h=>h(o,a))},retrieveFineTune(u,s){return c.retrieveFineTune(u,s).then(h=>h(o,a))},retrieveModel(u,s){return c.retrieveModel(u,s).then(h=>h(o,a))}}};class d extends i.BaseAPI{cancelFineTune(a,o){return t.OpenAIApiFp(this.configuration).cancelFineTune(a,o).then(c=>c(this.axios,this.basePath))}createAnswer(a,o){return t.OpenAIApiFp(this.configuration).createAnswer(a,o).then(c=>c(this.axios,this.basePath))}createChatCompletion(a,o){return t.OpenAIApiFp(this.configuration).createChatCompletion(a,o).then(c=>c(this.axios,this.basePath))}createClassification(a,o){return t.OpenAIApiFp(this.configuration).createClassification(a,o).then(c=>c(this.axios,this.basePath))}createCompletion(a,o){return t.OpenAIApiFp(this.configuration).createCompletion(a,o).then(c=>c(this.axios,this.basePath))}createEdit(a,o){return t.OpenAIApiFp(this.configuration).createEdit(a,o).then(c=>c(this.axios,this.basePath))}createEmbedding(a,o){return t.OpenAIApiFp(this.configuration).createEmbedding(a,o).then(c=>c(this.axios,this.basePath))}createFile(a,o,c){return t.OpenAIApiFp(this.configuration).createFile(a,o,c).then(u=>u(this.axios,this.basePath))}createFineTune(a,o){return t.OpenAIApiFp(this.configuration).createFineTune(a,o).then(c=>c(this.axios,this.basePath))}createImage(a,o){return t.OpenAIApiFp(this.configuration).createImage(a,o).then(c=>c(this.axios,this.basePath))}createImageEdit(a,o,c,u,s,h,f,p){return t.OpenAIApiFp(this.configuration).createImageEdit(a,o,c,u,s,h,f,p).then(m=>m(this.axios,this.basePath))}createImageVariation(a,o,c,u,s,h){return t.OpenAIApiFp(this.configuration).createImageVariation(a,o,c,u,s,h).then(f=>f(this.axios,this.basePath))}createModeration(a,o){return t.OpenAIApiFp(this.configuration).createModeration(a,o).then(c=>c(this.axios,this.basePath))}createSearch(a,o,c){return t.OpenAIApiFp(this.configuration).createSearch(a,o,c).then(u=>u(this.axios,this.basePath))}createTranscription(a,o,c,u,s,h,f){return t.OpenAIApiFp(this.configuration).createTranscription(a,o,c,u,s,h,f).then(p=>p(this.axios,this.basePath))}createTranslation(a,o,c,u,s,h){return t.OpenAIApiFp(this.configuration).createTranslation(a,o,c,u,s,h).then(f=>f(this.axios,this.basePath))}deleteFile(a,o){return t.OpenAIApiFp(this.configuration).deleteFile(a,o).then(c=>c(this.axios,this.basePath))}deleteModel(a,o){return t.OpenAIApiFp(this.configuration).deleteModel(a,o).then(c=>c(this.axios,this.basePath))}downloadFile(a,o){return t.OpenAIApiFp(this.configuration).downloadFile(a,o).then(c=>c(this.axios,this.basePath))}listEngines(a){return t.OpenAIApiFp(this.configuration).listEngines(a).then(o=>o(this.axios,this.basePath))}listFiles(a){return t.OpenAIApiFp(this.configuration).listFiles(a).then(o=>o(this.axios,this.basePath))}listFineTuneEvents(a,o,c){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(a,o,c).then(u=>u(this.axios,this.basePath))}listFineTunes(a){return t.OpenAIApiFp(this.configuration).listFineTunes(a).then(o=>o(this.axios,this.basePath))}listModels(a){return t.OpenAIApiFp(this.configuration).listModels(a).then(o=>o(this.axios,this.basePath))}retrieveEngine(a,o){return t.OpenAIApiFp(this.configuration).retrieveEngine(a,o).then(c=>c(this.axios,this.basePath))}retrieveFile(a,o){return t.OpenAIApiFp(this.configuration).retrieveFile(a,o).then(c=>c(this.axios,this.basePath))}retrieveFineTune(a,o){return t.OpenAIApiFp(this.configuration).retrieveFineTune(a,o).then(c=>c(this.axios,this.basePath))}retrieveModel(a,o){return t.OpenAIApiFp(this.configuration).retrieveModel(a,o).then(c=>c(this.axios,this.basePath))}}t.OpenAIApi=d})(Jt);var ue={};const In="openai",xn="3.3.0",Fn="Node.js library for the OpenAI API",Vn={type:"git",url:"git@github.com:openai/openai-node.git"},Un=["openai","open","ai","gpt-3","gpt3"],Nn="OpenAI",Bn="MIT",qn="./dist/index.js",Dn="./dist/index.d.ts",Ln={build:"tsc --outDir dist/"},Mn={axios:"^0.26.0","form-data":"^4.0.0"},$n={"@types/node":"^12.11.5",typescript:"^3.6.4"},zn={name:In,version:xn,description:Fn,repository:Vn,keywords:Un,author:Nn,license:Bn,main:qn,types:Dn,scripts:Ln,dependencies:Mn,devDependencies:$n};var Ie,Vt;function kn(){return Vt||(Vt=1,Ie=typeof self=="object"?self.FormData:window.FormData),Ie}Object.defineProperty(ue,"__esModule",{value:!0});ue.Configuration=void 0;const Hn=zn;class Jn{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${Hn.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=kn())}isJsonMime(e){const n=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(n.test(e)||e.toLowerCase()==="application/json-patch+json")}}ue.Configuration=Jn;(function(t){var e=B&&B.__createBinding||(Object.create?function(r,i,d,l){l===void 0&&(l=d),Object.defineProperty(r,l,{enumerable:!0,get:function(){return i[d]}})}:function(r,i,d,l){l===void 0&&(l=d),r[l]=i[d]}),n=B&&B.__exportStar||function(r,i){for(var d in r)d!=="default"&&!i.hasOwnProperty(d)&&e(i,r,d)};Object.defineProperty(t,"__esModule",{value:!0}),n(Jt,t),n(ue,t)})(Be);const Qn=()=>typeof window<"u"&&typeof window.document<"u",Yn=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Kn=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),or=()=>typeof Deno<"u",ur=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!or(),Wn=()=>{let t;return Qn()?t="browser":ur()?t="node":Yn()?t="webworker":Kn()?t="jsdom":or()?t="deno":t="other",t};let xe;async function cs(){return xe===void 0&&(xe={library:"langchain-js",runtime:Wn()}),xe}function M(t){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[t]:void 0}catch{return}}const Me="text/event-stream";async function Gn(t,e){const n=t.getReader();for(;;){const r=await n.read();if(r.done){e(new Uint8Array,!0);break}e(r.value)}}function Xn(t){let e,n,r,i=!1;return function(l,a){if(a){t(l,0,!0);return}e===void 0?(e=l,n=0,r=-1):e=ea(e,l);const o=e.length;let c=0;for(;n<o;){i&&(e[n]===10&&(c=++n),i=!1);let u=-1;for(;n<o&&u===-1;++n)switch(e[n]){case 58:r===-1&&(r=n-c);break;case 13:i=!0;case 10:u=n;break}if(u===-1)break;t(e.subarray(c,u),r),c=n,r=-1}c===o?e=void 0:c!==0&&(e=e.subarray(c),n-=c)}}function Zn(t,e,n){let r=Fe();const i=new TextDecoder;return function(l,a,o){if(o){ta(r)||(t==null||t(r),r=Fe());return}if(l.length===0)t==null||t(r),r=Fe();else if(a>0){const c=i.decode(l.subarray(0,a)),u=a+(l[a+1]===32?2:1),s=i.decode(l.subarray(u));switch(c){case"data":r.data=r.data?r.data+`
`+s:s;break;case"event":r.event=s;break;case"id":e==null||e(r.id=s);break;case"retry":{const h=parseInt(s,10);Number.isNaN(h)||n==null||n(r.retry=h);break}}}}}function ea(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Fe(){return{data:"",event:"",id:"",retry:void 0}}function ta(t){return t.data===""&&t.event===""&&t.id===""&&t.retry===void 0}function ra(t){try{return JSON.stringify(t)}catch{return t}}function na(t,e,n){const{validateStatus:r}=n.config;!n.status||!r||r(n.status)?t(n):e(re(`Request failed with status code ${n.status} and body ${typeof n.data=="string"?n.data:ra(n.data)}`,n.config,null,n.request,n))}function aa(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sa(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Ut(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ia(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(da(e))r=e.toString();else{var i=[];Nt(e,function(a,o){a===null||typeof a>"u"||(cr(a)?o=`${o}[]`:a=[a],Nt(a,function(u){la(u)?u=u.toISOString():ca(u)&&(u=JSON.stringify(u)),i.push(`${Ut(o)}=${Ut(u)}`)}))}),r=i.join("&")}if(r){var d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}function oa(t,e){return t&&!aa(e)?sa(t,e):e}function ua(t){return typeof t>"u"}function ca(t){return t!==null&&typeof t=="object"}function la(t){return toString.call(t)==="[object Date]"}function da(t){return toString.call(t)==="[object URLSearchParams]"}function cr(t){return Array.isArray(t)}function Nt(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),cr(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ha(t){return toString.call(t)==="[object FormData]"}function fa(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}async function pa(t){const e=va(t),n=await ma(e,t);return new Promise((r,i)=>{n instanceof Error?i(n):Object.prototype.toString.call(t.settle)==="[object Function]"?t.settle(r,i,n):na(r,i,n)})}async function ma(t,e){let n;try{n=await fetch(t)}catch(d){return d&&d.name==="AbortError"?re("Request aborted",e,"ECONNABORTED",t):d&&d.name==="TimeoutError"?re("Request timeout",e,"ECONNABORTED",t):re("Network Error",e,"ERR_NETWORK",t)}const r={};n.headers.forEach((d,l)=>{r[l]=d});const i={ok:n.ok,status:n.status,statusText:n.statusText,headers:r,config:e,request:t};if(n.status>=200&&n.status!==204)if(e.responseType==="stream"){const d=n.headers.get("content-type");if(!(d!=null&&d.startsWith(Me))){if(n.status>=400)return d!=null&&d.startsWith("application/json")?(i.data=await n.json(),i):(i.data=await n.text(),i);throw new Error(`Expected content-type to be ${Me}, Actual: ${d}`)}await Gn(n.body,Xn(Zn(e.onmessage)))}else switch(e.responseType){case"arraybuffer":i.data=await n.arrayBuffer();break;case"blob":i.data=await n.blob();break;case"json":i.data=await n.json();break;case"formData":i.data=await n.formData();break;default:i.data=await n.text();break}return i}function va(t){const e=new Headers(t.headers);if(t.auth){const l=t.auth.username||"",a=t.auth.password?decodeURI(encodeURIComponent(t.auth.password)):"";e.set("Authorization",`Basic ${btoa(`${l}:${a}`)}`)}const n=t.method.toUpperCase(),r={headers:e,method:n};n!=="GET"&&n!=="HEAD"&&(r.body=t.data,ha(r.body)&&fa()&&e.delete("Content-Type")),typeof r.body=="string"&&(r.body=new TextEncoder().encode(r.body)),t.mode&&(r.mode=t.mode),t.cache&&(r.cache=t.cache),t.integrity&&(r.integrity=t.integrity),t.redirect&&(r.redirect=t.redirect),t.referrer&&(r.referrer=t.referrer),t.timeout&&t.timeout>0&&(r.signal=AbortSignal.timeout(t.timeout)),t.signal&&(r.signal=t.signal),ua(t.withCredentials)||(r.credentials=t.withCredentials?"include":"omit"),t.responseType==="stream"&&r.headers.set("Accept",Me);const i=oa(t.baseURL,t.url),d=ia(i,t.params,t.paramsSerializer);return new Request(d,r)}function re(t,e,n,r,i){if(X.AxiosError&&typeof X.AxiosError=="function")return new X.AxiosError(t,X.AxiosError[n],e,r,i);const d=new Error(t);return ba(d,e,n,r,i)}function ba(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}const Oa=(t,e)=>t.reduce((n,r,i)=>{const d=Math.floor(i/e),l=n[d]||[];return n[d]=l.concat([r]),n},[]);var ce={exports:{}},lr={};function x(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var ya=x;x.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};x.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};x.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};x.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};x.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};x.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};x.prototype.start=x.prototype.try;x.prototype.errors=function(){return this._errors};x.prototype.attempts=function(){return this._attempts};x.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],d=i.message,l=(t[d]||0)+1;t[d]=l,l>=n&&(e=i,n=l)}return e};(function(t){var e=ya;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var d=[],l=0;l<r.retries;l++)d.push(this.createTimeout(l,r));return n&&n.forever&&!d.length&&d.push(this.createTimeout(l,r)),d.sort(function(a,o){return a-o}),d},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,d=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return d=Math.min(d,r.maxTimeout),d},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var d in n)typeof n[d]=="function"&&i.push(d)}for(var l=0;l<i.length;l++){var a=i[l],o=n[a];n[a]=(function(u){var s=t.operation(r),h=Array.prototype.slice.call(arguments,1),f=h.pop();h.push(function(p){s.retry(p)||(p&&(arguments[0]=s.mainError()),f.apply(this,arguments))}),s.attempt(function(){u.apply(n,h)})}).bind(n,o),n[a].options=r}}})(lr);var _a=lr;const ga=_a,Aa=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class dr extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Ea=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t},wa=t=>Aa.includes(t),hr=(t,e)=>new Promise((n,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=ga.operation(e);i.attempt(async d=>{try{n(await t(d))}catch(l){if(!(l instanceof Error)){r(new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`));return}if(l instanceof dr)i.stop(),r(l.originalError);else if(l instanceof TypeError&&!wa(l.message))i.stop(),r(l);else{Ea(l,d,e);try{await e.onFailedAttempt(l)}catch(a){r(a);return}i.retry(l)||r(i.mainError())}}})});ce.exports=hr;ce.exports.default=hr;ce.exports.AbortError=dr;var Pa=ce.exports;const Sa=ke(Pa);var fr={},pr={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(o,c,u){this.fn=o,this.context=c,this.once=u||!1}function d(o,c,u,s,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,s||o,h),p=n?n+c:c;return o._events[p]?o._events[p].fn?o._events[p]=[o._events[p],f]:o._events[p].push(f):(o._events[p]=f,o._eventsCount++),o}function l(o,c){--o._eventsCount===0?o._events=new r:delete o._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,s;if(this._eventsCount===0)return c;for(s in u=this._events)e.call(u,s)&&c.push(n?s.slice(1):s);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,s=this._events[u];if(!s)return[];if(s.fn)return[s.fn];for(var h=0,f=s.length,p=new Array(f);h<f;h++)p[h]=s[h].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,s=this._events[u];return s?s.fn?1:s.length:0},a.prototype.emit=function(c,u,s,h,f,p){var m=n?n+c:c;if(!this._events[m])return!1;var v=this._events[m],O=arguments.length,_,y;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),O){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,s),!0;case 4:return v.fn.call(v.context,u,s,h),!0;case 5:return v.fn.call(v.context,u,s,h,f),!0;case 6:return v.fn.call(v.context,u,s,h,f,p),!0}for(y=1,_=new Array(O-1);y<O;y++)_[y-1]=arguments[y];v.fn.apply(v.context,_)}else{var b=v.length,g;for(y=0;y<b;y++)switch(v[y].once&&this.removeListener(c,v[y].fn,void 0,!0),O){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,u);break;case 3:v[y].fn.call(v[y].context,u,s);break;case 4:v[y].fn.call(v[y].context,u,s,h);break;default:if(!_)for(g=1,_=new Array(O-1);g<O;g++)_[g-1]=arguments[g];v[y].fn.apply(v[y].context,_)}}return!0},a.prototype.on=function(c,u,s){return d(this,c,u,s,!1)},a.prototype.once=function(c,u,s){return d(this,c,u,s,!0)},a.prototype.removeListener=function(c,u,s,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return l(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!s||p.context===s)&&l(this,f);else{for(var m=0,v=[],O=p.length;m<O;m++)(p[m].fn!==u||h&&!p[m].once||s&&p[m].context!==s)&&v.push(p[m]);v.length?this._events[f]=v.length===1?v[0]:v:l(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(pr);var Ca=pr.exports,le={exports:{}},Ta=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const Ra=Ta;class mr extends Error{constructor(e){super(e),this.name="TimeoutError"}}const vr=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const d=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(o){i(o)}return}const l=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,a=n instanceof Error?n:new mr(l);typeof t.cancel=="function"&&t.cancel(),i(a)},e);Ra(t.then(r,i),()=>{clearTimeout(d)})});le.exports=vr;le.exports.default=vr;le.exports.TimeoutError=mr;var ja=le.exports,Ze={},et={};Object.defineProperty(et,"__esModule",{value:!0});function Ia(t,e,n){let r=0,i=t.length;for(;i>0;){const d=i/2|0;let l=r+d;n(t[l],e)<=0?(r=++l,i-=d+1):i=d}return r}et.default=Ia;Object.defineProperty(Ze,"__esModule",{value:!0});const xa=et;class Fa{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=xa.default(this._queue,r,(d,l)=>l.priority-d.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}Ze.default=Fa;Object.defineProperty(fr,"__esModule",{value:!0});const Va=Ca,br=ja,Ua=Ze,Z=()=>{},Na=new br.TimeoutError;class Ba extends Va{constructor(e){var n,r,i,d;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Z,this._resolveIdle=Z,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Ua.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(d=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&d!==void 0?d:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Z,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Z,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const d=async()=>{this._pendingCount++,this._intervalCount++;try{const l=this._timeout===void 0&&n.timeout===void 0?e():br.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(Na)});r(await l)}catch(l){i(l)}this._next()};this._queue.enqueue(d,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var Ve=fr.default=Ba;const qa=[400,401,403,404,405,406,407,408,409];class Da{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const n="default"in Ve?Ve.default:Ve;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>Sa(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt(r){var l,a,o,c;if(r.message.startsWith("Cancel")||r.message.startsWith("TimeoutError")||r.message.startsWith("AbortError")||(r==null?void 0:r.code)==="ECONNABORTED")throw r;const i=(l=r==null?void 0:r.response)==null?void 0:l.status;if(i&&qa.includes(+i))throw r;const d=(a=r==null?void 0:r.response)==null?void 0:a.data;if(((o=d==null?void 0:d.error)==null?void 0:o.code)==="insufficient_quota"){const u=new Error((c=d==null?void 0:d.error)==null?void 0:c.message);throw u.name="InsufficientQuotaError",u}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,d)=>{var l;(l=e.signal)==null||l.addEventListener("abort",()=>{d(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class La{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new Da(e??{})}}function Ma(t){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,basePath:d}=t;if(r&&i&&e)return`${i}/${e}`;if(r){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${e}`}return d}class ls extends La{constructor(e,n){super(e??{}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=(e==null?void 0:e.openAIApiKey)??M("OPENAI_API_KEY"),i=(e==null?void 0:e.azureOpenAIApiKey)??M("AZURE_OPENAI_API_KEY");if(!i&&!r)throw new Error("OpenAI or Azure OpenAI API key not found");const d=(e==null?void 0:e.azureOpenAIApiInstanceName)??M("AZURE_OPENAI_API_INSTANCE_NAME"),l=((e==null?void 0:e.azureOpenAIApiEmbeddingsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(M("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||M("AZURE_OPENAI_API_DEPLOYMENT_NAME")),a=(e==null?void 0:e.azureOpenAIApiVersion)??M("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??M("AZURE_OPENAI_BASE_PATH"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.batchSize=(e==null?void 0:e.batchSize)??(i?1:this.batchSize),this.stripNewLines=(e==null?void 0:e.stripNewLines)??this.stripNewLines,this.timeout=e==null?void 0:e.timeout,this.azureOpenAIApiVersion=a,this.azureOpenAIApiKey=i,this.azureOpenAIApiInstanceName=d,this.azureOpenAIApiDeploymentName=l,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found")}this.clientConfig={apiKey:r,...n}}async embedDocuments(e){const n=Oa(this.stripNewLines?e.map(i=>i.replace(/\n/g," ")):e,this.batchSize),r=[];for(let i=0;i<n.length;i+=1){const d=n[i],{data:l}=await this.embeddingWithRetry({model:this.modelName,input:d});for(let a=0;a<d.length;a+=1)r.push(l.data[a].embedding)}return r}async embedQuery(e){const{data:n}=await this.embeddingWithRetry({model:this.modelName,input:this.stripNewLines?e.replace(/\n/g," "):e});return n.data[0].embedding}async embeddingWithRetry(e){if(!this.client){const r={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,basePath:this.clientConfig.basePath},i=Ma(r),d=new Be.Configuration({...this.clientConfig,basePath:i,baseOptions:{timeout:this.timeout,adapter:ur()?void 0:pa,...this.clientConfig.baseOptions}});this.client=new Be.OpenAIApi(d)}const n={};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.params={"api-version":this.azureOpenAIApiVersion,...n.params}),this.caller.call(this.client.createEmbedding.bind(this.client),e,n)}}var $a=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const za=ke($a);var Or={exports:{}};const ka=/[\p{Lu}]/u,Ha=/[\p{Ll}]/u,Bt=/^[\p{Lu}](?![\p{Lu}])/gu,yr=/([\p{Alpha}\p{N}_]|$)/u,_r=/[_.\- ]+/,Ja=new RegExp("^"+_r.source),qt=new RegExp(_r.source+yr.source,"gu"),Dt=new RegExp("\\d+"+yr.source,"gu"),Qa=(t,e,n)=>{let r=!1,i=!1,d=!1;for(let l=0;l<t.length;l++){const a=t[l];r&&ka.test(a)?(t=t.slice(0,l)+"-"+t.slice(l),r=!1,d=i,i=!0,l++):i&&d&&Ha.test(a)?(t=t.slice(0,l-1)+"-"+t.slice(l-1),d=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,d=i,i=n(a)===a&&e(a)!==a)}return t},Ya=(t,e)=>(Bt.lastIndex=0,t.replace(Bt,n=>e(n))),Ka=(t,e)=>(qt.lastIndex=0,Dt.lastIndex=0,t.replace(qt,(n,r)=>e(r)).replace(Dt,n=>e(n))),gr=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(d=>d.trim()).filter(d=>d.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?d=>d.toLowerCase():d=>d.toLocaleLowerCase(e.locale),r=e.locale===!1?d=>d.toUpperCase():d=>d.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=Qa(t,n,r)),t=t.replace(Ja,""),e.preserveConsecutiveUppercase?t=Ya(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),Ka(t,r))};Or.exports=gr;Or.exports.default=gr;function Wa(t,e){return(e==null?void 0:e[t])||za(t)}function Ga(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function Lt(t){return Array.isArray(t)?[...t]:{...t}}function Xa(t,e){const n=Lt(t);for(const[r,i]of Object.entries(e)){const[d,...l]=r.split(".").reverse();let a=n;for(const o of l.reverse()){if(a[o]===void 0)break;a[o]=Lt(a[o]),a=a[o]}a[d]!==void 0&&(a[d]={lc:1,type:"secret",id:[i]})}return n}class de{get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof de||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,d)=>(i[d]=d in this?this[d]:this.lc_kwargs[d],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));for(const i in n)i in this&&this[i]!==void 0&&(r[i]=this[i]||r[i]);return{lc:1,type:"constructor",id:[...this.lc_namespace,this.constructor.name],kwargs:Ga(Object.keys(n).length?Xa(r,n):r,Wa,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:[...this.lc_namespace,this.constructor.name]}}}const ds="__run";class he extends de{get text(){return this.content}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class hs extends he{_getType(){return"human"}}class fs extends he{_getType(){return"ai"}}class ps extends he{_getType(){return"system"}}class ms extends he{constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}}class vs extends de{}class Za{}class bs{}class es extends Za{constructor(e){super(),Object.defineProperty(this,"vectorStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.filter=e.filter}async getRelevantDocuments(e){return await this.vectorStore.similaritySearch(e,this.k,this.filter)}async addDocuments(e,n){return this.vectorStore.addDocuments(e,n)}}class ts{constructor(e,n){Object.defineProperty(this,"embeddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,n=4,r=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,r)).map(d=>d[0])}async similaritySearchWithScore(e,n=4,r=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,r)}static fromTexts(e,n,r,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,n,r){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,n){return new es({vectorStore:this,k:e,filter:n})}}class Mt{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}class Ar extends ts{constructor(e,n){super(e,n),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queryName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=n.client,this.tableName=n.tableName||"documents",this.queryName=n.queryName||"match_documents",this.filter=n.filter}async addDocuments(e,n){const r=e.map(({pageContent:i})=>i);return this.addVectors(await this.embeddings.embedDocuments(r),e,n)}async addVectors(e,n,r){const i=e.map((a,o)=>({content:n[o].pageContent,embedding:a,metadata:n[o].metadata})),d=500;let l=[];for(let a=0;a<i.length;a+=d){const o=i.slice(a,a+d).map(u=>r!=null&&r.ids?{id:r.ids[a],...u}:u),c=await this.client.from(this.tableName).upsert(o).select();if(c.error)throw new Error(`Error inserting: ${c.error.message} ${c.status} ${c.statusText}`);c.data&&(l=l.concat(c.data.map(u=>u.id)))}return l}async delete(e){const{ids:n}=e;for(const r of n)await this.client.from(this.tableName).delete().eq("id",r)}async similaritySearchVectorWithScore(e,n,r){if(r&&this.filter)throw new Error("cannot provide both `filter` and `this.filter`");const i=r??this.filter??{},d={query_embedding:e};let l;if(typeof i=="function")l=s=>i(s).limit(n);else if(typeof i=="object")d.filter=i,d.match_count=n,l=s=>s;else throw new Error("invalid filter type");const a=this.client.rpc(this.queryName,d),{data:o,error:c}=await l(a);if(c)throw new Error(`Error searching for documents: ${c.code} ${c.message} ${c.details}`);return o.map(s=>[new Mt({metadata:s.metadata,pageContent:s.content}),s.similarity])}static async fromTexts(e,n,r,i){const d=[];for(let l=0;l<e.length;l+=1){const a=Array.isArray(n)?n[l]:n,o=new Mt({pageContent:e[l],metadata:a});d.push(o)}return Ar.fromDocuments(d,r,i)}static async fromDocuments(e,n,r){const i=new this(n,r);return await i.addDocuments(e),i}static async fromExistingIndex(e,n){return new this(e,n)}}const{console:rs}=xr,$="src/lib/AuthCheck.svelte";function Er(t){let e,n,r,i="You must be signed in to view this page.",d,l,a,o="Login",c,u,s="Register";const h={c:function(){e=C("div"),n=C("div"),r=C("p"),r.textContent=i,d=K(),l=C("div"),a=C("a"),a.textContent=o,c=K(),u=C("a"),u.textContent=s,this.h()},l:function(p){e=T(p,"DIV",{id:!0});var m=q(e);n=T(m,"DIV",{class:!0});var v=q(n);r=T(v,"P",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-1qn0ppa"&&(r.textContent=i),d=W(v),l=T(v,"DIV",{class:!0});var O=q(l);a=T(O,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(a)!=="svelte-wpey69"&&(a.textContent=o),c=W(O),u=T(O,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(u)!=="svelte-129aygp"&&(u.textContent=s),O.forEach(I),v.forEach(I),m.forEach(I),this.h()},h:function(){E(r,"class","auth-message s-NSJxguceXFrJ"),S(r,$,43,6,957),E(a,"href","/login"),E(a,"class","auth-button auth-button-primary s-NSJxguceXFrJ"),S(a,$,45,8,1067),E(u,"href","/register"),E(u,"class","auth-button auth-button-secondary s-NSJxguceXFrJ"),S(u,$,46,8,1142),E(l,"class","auth-buttons s-NSJxguceXFrJ"),S(l,$,44,6,1032),E(n,"class","auth-container s-NSJxguceXFrJ"),S(n,$,42,4,922),E(e,"id","error-message"),S(e,$,40,2,831)},m:function(p,m){ne(p,e,m),w(e,n),w(n,r),w(n,d),w(n,l),w(l,a),w(l,c),w(l,u)},p:Q,i:Q,o:Q,d:function(p){p&&I(e)}};return Y("SvelteRegisterBlock",{block:h,id:Er.name,type:"else",source:"(30:0) {:else}",ctx:t}),h}function wr(t){let e,n;const r=t[2].default,i=Sr(r,t,t[1],null),d={c:function(){e=C("div"),i&&i.c(),this.h()},l:function(a){e=T(a,"DIV",{id:!0});var o=q(e);i&&i.l(o),o.forEach(I),this.h()},h:function(){E(e,"id","content"),S(e,$,35,2,717)},m:function(a,o){ne(a,e,o),i&&i.m(e,null),n=!0},p:function(a,o){i&&i.p&&(!n||o&2)&&Cr(i,r,a,a[1],n?Rr(r,a[1],o,null):Tr(a[1]),null)},i:function(a){n||(Ne(i,a),n=!0)},o:function(a){Ue(i,a),n=!1},d:function(a){a&&I(e),i&&i.d(a)}};return Y("SvelteRegisterBlock",{block:d,id:wr.name,type:"if",source:"(25:0) {#if isLoggedIn}",ctx:t}),d}function $e(t){let e,n,r,i;const d=[wr,Er],l=[];function a(c,u){return c[0]?0:1}e=a(t),n=l[e]=d[e](t);const o={c:function(){n.c(),r=ct()},l:function(u){n.l(u),r=ct()},m:function(u,s){l[e].m(u,s),ne(u,r,s),i=!0},p:function(u,[s]){let h=e;e=a(u),e===h?l[e].p(u,s):(jr(),Ue(l[h],1,1,()=>{l[h]=null}),Ir(),n=l[e],n?n.p(u,s):(n=l[e]=d[e](u),n.c()),Ne(n,1),n.m(r.parentNode,r))},i:function(u){i||(Ne(n),i=!0)},o:function(u){Ue(n),i=!1},d:function(u){u&&I(r),l[e].d(u)}};return Y("SvelteRegisterBlock",{block:o,id:$e.name,type:"component",source:"",ctx:t}),o}function ns(t,e,n){let{$$slots:r={},$$scope:i}=e;Ht("AuthCheck",r,["default"]);const d=at(it,st);let l=!0;const a=async()=>{const{data:{session:c},error:u}=await d.auth.getSession();u?console.log(u):c!=null&&c.user?n(0,l=!0):n(0,l=!1)};ot(()=>{a()}),ut("isLoggedIn",l);const o=[];return Object.keys(e).forEach(c=>{!~o.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&rs.warn(`<AuthCheck> was created with unknown prop '${c}'`)}),t.$$set=c=>{"$$scope"in c&&n(1,i=c.$$scope)},t.$capture_state=()=>({createClient:at,PUBLIC_SUPABASE_KEY:st,PUBLIC_SUPABASE_URL:it,onMount:ot,setContext:ut,supabaseClient:d,isLoggedIn:l,loadContent:a}),t.$inject_state=c=>{"isLoggedIn"in c&&n(0,l=c.isLoggedIn)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[l,i,r]}class Os extends zt{constructor(e){super(e),kt(this,e,ns,$e,$t,{}),Y("SvelteRegisterComponent",{component:this,tagName:"AuthCheck",options:e,id:$e.name})}}const N="src/lib/NavBar.svelte";function ze(t){let e,n,r,i,d=" James ",l,a,o,c="Upload",u,s,h="Chat",f,p,m="Profile";const v={c:function(){e=C("nav"),n=C("div"),r=C("div"),i=C("a"),i.textContent=d,l=K(),a=C("div"),o=C("a"),o.textContent=c,u=K(),s=C("a"),s.textContent=h,f=K(),p=C("a"),p.textContent=m,this.h()},l:function(_){e=T(_,"NAV",{class:!0});var y=q(e);n=T(y,"DIV",{class:!0});var b=q(n);r=T(b,"DIV",{class:!0});var g=q(r);i=T(g,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(i)!=="svelte-11i2keg"&&(i.textContent=d),g.forEach(I),l=W(b),a=T(b,"DIV",{class:!0});var V=q(a);o=T(V,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(o)!=="svelte-8dwc99"&&(o.textContent=c),u=W(V),s=T(V,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(s)!=="svelte-1dwebiy"&&(s.textContent=h),f=W(V),p=T(V,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(p)!=="svelte-zixgzz"&&(p.textContent=m),V.forEach(I),b.forEach(I),y.forEach(I),this.h()},h:function(){E(i,"href","/"),E(i,"class","text-xl font-bold hover:text-blue-400 cursor-pointer"),S(i,N,5,6,226),E(r,"class","flex items-center justify-center flex-1"),S(r,N,4,4,166),E(o,"href","/upload"),E(o,"class","text-lg text-white hover:text-blue-400"),S(o,N,10,6,416),E(s,"href","/ask"),E(s,"class","text-lg text-white hover:text-blue-400"),S(s,N,13,6,514),E(p,"href","/profile"),E(p,"class","text-lg text-white hover:text-blue-400"),S(p,N,14,6,593),E(a,"class","flex items-center justify-center flex-1 space-x-4"),S(a,N,9,4,346),E(n,"class","navbar p-4 bg-gray-900 text-white rounded-t-lg rounded-b-lg border border-white"),S(n,N,1,2,61),E(e,"class","w-full bg-gray-900 rounded-lg mb-6 shadow-md"),S(e,N,0,0,0)},m:function(_,y){ne(_,e,y),w(e,n),w(n,r),w(r,i),w(n,l),w(n,a),w(a,o),w(a,u),w(a,s),w(a,f),w(a,p)},p:Q,i:Q,o:Q,d:function(_){_&&I(e)}};return Y("SvelteRegisterBlock",{block:v,id:ze.name,type:"component",source:"",ctx:t}),v}function as(t,e){let{$$slots:n={},$$scope:r}=e;Ht("NavBar",n,[]);const i=[];return Object.keys(e).forEach(d=>{!~i.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<NavBar> was created with unknown prop '${d}'`)}),[]}class ys extends zt{constructor(e){super(e),kt(this,e,as,ze,$t,{}),Y("SvelteRegisterComponent",{component:this,tagName:"NavBar",options:e,id:ze.name})}}export{Os as A,vs as B,ms as C,Mt as D,La as E,hs as H,ys as N,ls as O,ds as R,Ar as S,Ve as _,de as a,cs as b,Da as c,fs as d,ps as e,bs as f,M as g,pa as h,Ma as i,Be as j,ur as k,Oa as l,Wn as m,Sa as p};
